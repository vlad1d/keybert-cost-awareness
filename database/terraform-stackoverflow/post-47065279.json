{"Id": "47065279", "PostTypeId": "1", "CreationDate": "2017-11-01T23:33:16.270", "Score": "11", "ViewCount": "17610", "Body": "<p>I want to convert the existing terraform templates(hcl) to aws cloudformation templates(json/yaml). </p>\n\n<p>I basically want to find security issues with these templates through CFN_NAG. </p>\n\n<p>An approach that I have already tried was converting HCL to JSON and then passing the template to CFN_NAG but I received a failure since both the templates have different structure. </p>\n\n<p>Can anyone please provide any suggestions here?</p>\n", "OwnerUserId": "5069919", "LastEditorUserId": "498256", "LastEditDate": "2017-11-04T05:06:22.407", "LastActivityDate": "2021-03-23T21:31:45.023", "Title": "Convert Terraform Templates to Cloudformation Templates", "Tags": "<aws-cloudformation><terraform>", "AnswerCount": "3", "CommentCount": "1", "FavoriteCount": "0", "ContentLicense": "CC BY-SA 3.0", "comments": [{"Id": "81096936", "PostId": "47065279", "Score": "0", "Text": "You should provide an example here to help illustrate the issue you encountered.", "CreationDate": "2017-11-02T11:42:53.370", "UserId": "5343387", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}], "history": [{"Id": "159663039", "PostHistoryTypeId": "2", "PostId": "47065279", "RevisionGUID": "8aecc37b-dc16-407a-b949-6fcbf6dd73a7", "CreationDate": "2017-11-01T23:33:16.270", "UserId": "5069919", "Text": "I want to convert the existing terraform templates(hcl) to aws cloudformation templates(json/yaml). I basically want to find security issues with these templates through CFN_NAG. An approach that I have already tried was converting HCL to JSON and then passing the template to CFN_NAG but I received a failure since both the templates have different structure. Can anyone please provide any suggestions here?", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}, {"Id": "159663040", "PostHistoryTypeId": "1", "PostId": "47065279", "RevisionGUID": "8aecc37b-dc16-407a-b949-6fcbf6dd73a7", "CreationDate": "2017-11-01T23:33:16.270", "UserId": "5069919", "Text": "Convert Terraform Templates to Cloudformation Templates", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}, {"Id": "159663041", "PostHistoryTypeId": "3", "PostId": "47065279", "RevisionGUID": "8aecc37b-dc16-407a-b949-6fcbf6dd73a7", "CreationDate": "2017-11-01T23:33:16.270", "UserId": "5069919", "Text": "<aws-cloudformation><terraform>", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}, {"Id": "159844137", "PostHistoryTypeId": "5", "PostId": "47065279", "RevisionGUID": "dd70d801-c9a0-4e5b-a06b-85fe229164a2", "CreationDate": "2017-11-04T05:06:22.407", "UserId": "498256", "Comment": "added 12 characters in body", "Text": "I want to convert the existing terraform templates(hcl) to aws cloudformation templates(json/yaml). \r\n\r\nI basically want to find security issues with these templates through CFN_NAG. \r\n\r\nAn approach that I have already tried was converting HCL to JSON and then passing the template to CFN_NAG but I received a failure since both the templates have different structure. \r\n\r\nCan anyone please provide any suggestions here?", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": []}], "answers": [{"Id": "47261458", "PostTypeId": "2", "ParentId": "47065279", "CreationDate": "2017-11-13T09:54:01.807", "Score": "16", "Body": "<p>A rather convoluted way of achieving this is to use Terraform to stand-up actual AWS environments, and then to use AWS\u2019s <a href=\"http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-using-cloudformer.html\" rel=\"noreferrer\" title=\"CloudFormer\">CloudFormer</a> to extract  CloudFormation templates (JSON or YAML) from what Terraform has built. At which point you can use <a href=\"https://stelligent.com/2016/04/07/finding-security-problems-early-in-the-development-process-of-a-cloudformation-template-with-cfn-nag/\" rel=\"noreferrer\">cfn-nag</a>. </p>\n\n<p>CloudFormer has some limitations, in that not all AWS resources are currently supported (RDS Security Groups for example) , but it will get you all the basic AWS resources.</p>\n\n<p>Don't forget to remove all the environments, including CloudFormer's, to minimise the cost.</p>\n", "OwnerUserId": "5048973", "LastActivityDate": "2017-11-13T09:54:01.807", "CommentCount": "0", "ContentLicense": "CC BY-SA 3.0", "history": [{"Id": "160481985", "PostHistoryTypeId": "2", "PostId": "47261458", "RevisionGUID": "43e8351d-acfd-4443-ae8e-5034b2266ed9", "CreationDate": "2017-11-13T09:54:01.807", "UserId": "5048973", "Text": "A rather convoluted way of achieving this is to use Terraform to stand-up actual AWS environments, and then to use AWS\u2019s [CloudFormer][1] to extract  CloudFormation templates (JSON or YAML) from what Terraform has built. At which point you can use [cfn-nag][2]. \r\n\r\nCloudFormer has some limitations, in that not all AWS resources are currently supported (RDS Security Groups for example) , but it will get you all the basic AWS resources.\r\n\r\nDon't forget to remove all the environments, including CloudFormer's, to minimise the cost.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-using-cloudformer.html \"CloudFormer\"\r\n  [2]: https://stelligent.com/2016/04/07/finding-security-problems-early-in-the-development-process-of-a-cloudformation-template-with-cfn-nag/", "ContentLicense": "CC BY-SA 3.0", "filtered-sentences": [{"source": "Text", "text": "Don't forget to remove all the environments, including CloudFormer's, to minimise the cost. [1]: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-using-cloudformer.html \"CloudFormer\" [2]: https://stelligent.com/2016/04/07/finding-security-problems-early-in-the-development-process-of-a-cloudformation-template-with-cfn-nag/", "keywords": ["cost"]}]}], "filtered-sentences": [{"source": "Body", "text": "Don't forget to remove all the environments, including CloudFormer's, to minimise the cost.", "keywords": ["cost"]}]}, {"Id": "50401075", "PostTypeId": "2", "ParentId": "47065279", "CreationDate": "2018-05-17T21:57:23.483", "Score": "1", "Body": "<p>You want to use static code analysis to find security issues in your Terraform setup.</p>\n\n<p>Trying to converting Terraform to CloudFormation to later use cfn-nag is one way. However, there exist tools now that directly operate on the Terraform setup.</p>\n\n<p>I would recommend to take a look at <a href=\"https://github.com/cesar-rodriguez/terrascan\" rel=\"nofollow noreferrer\">terrascan</a>. It is built on <a href=\"https://github.com/elmundio87/terraform_validate\" rel=\"nofollow noreferrer\">terraform_validate</a>.</p>\n", "OwnerUserId": "783510", "LastActivityDate": "2018-05-17T21:57:23.483", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "173658154", "PostHistoryTypeId": "2", "PostId": "50401075", "RevisionGUID": "2eba58fa-c8a9-4425-aa78-bfcaee63ca23", "CreationDate": "2018-05-17T21:57:23.483", "UserId": "783510", "Text": "You want to use static code analysis to find security issues in your Terraform setup.\r\n\r\nTrying to converting Terraform to CloudFormation to later use cfn-nag is one way. However, there exist tools now that directly operate on the Terraform setup.\r\n\r\nI would recommend to take a look at [terrascan][1]. It is built on [terraform_validate][2].\r\n\r\n\r\n  [1]: https://github.com/cesar-rodriguez/terrascan\r\n  [2]: https://github.com/elmundio87/terraform_validate", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}, {"Id": "66771600", "PostTypeId": "2", "ParentId": "47065279", "CreationDate": "2021-03-23T21:31:45.023", "Score": "-2", "Body": "<p><a href=\"https://github.com/bridgecrewio/checkov/\" rel=\"nofollow noreferrer\">https://github.com/bridgecrewio/checkov/</a> runs security scanning for both terraform and cloudformation</p>\n", "OwnerUserId": "4411932", "LastActivityDate": "2021-03-23T21:31:45.023", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "243275337", "PostHistoryTypeId": "2", "PostId": "66771600", "RevisionGUID": "e6c8e1df-29d9-4700-a20d-fdaff7992cab", "CreationDate": "2021-03-23T21:31:45.023", "UserId": "4411932", "Text": "https://github.com/bridgecrewio/checkov/ runs security scanning for both terraform and cloudformation", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": false, "filtered-sentences": []}