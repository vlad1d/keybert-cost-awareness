{"Id": "66886333", "PostTypeId": "1", "AcceptedAnswerId": "66950528", "CreationDate": "2021-03-31T10:49:47.813", "Score": "2", "ViewCount": "814", "Body": "<p>I have a resource like this <code>repo/dynamo/main.tf</code>:</p>\n<pre><code>resource &quot;aws_dynamodb_table&quot; &quot;infra_locks&quot; {\n  name         = &quot;infra-locks&quot;\n  billing_mode = &quot;PAY_PER_REQUEST&quot;\n  hash_key     = &quot;LockID&quot;\n  attribute {\n    name = &quot;LockID&quot;\n    type = &quot;S&quot;\n  }\n}\n\n</code></pre>\n<p>And I refer above file as a module follow <a href=\"https://github.com/terraform-aws-modules/terraform-aws-dynamodb-table\" rel=\"nofollow noreferrer\">github repo</a></p>\n<p>Tf file where I refer to above file <code>repo/example/main.tf</code>:</p>\n<pre><code>provider &quot;aws&quot; {\n  region = var.region\n}\n\nmodule &quot;dynamodb_table&quot; {\n  source = &quot;../dynamodb_table&quot;\n\n  name      = &quot;my-table&quot;\n}\n</code></pre>\n<p>I have <code>terraform init</code> success but fail when run <code>terraform plan</code></p>\n<pre><code>\nError: Unsupported argument\n\n  on main.tf line 14, in module &quot;dynamodb_table&quot;:\n  14:   name      = &quot;my-table&quot;\n\nAn argument named &quot;name&quot; is not expected here.\n</code></pre>\n<p>How can i fix this?\nTks in advance</p>\n", "OwnerUserId": "11802172", "LastEditorUserId": "11802172", "LastEditDate": "2021-03-31T10:58:13.903", "LastActivityDate": "2021-04-13T07:51:58.110", "Title": "Terraform plan err: Unsupported argument", "Tags": "<terraform><terraform-provider-aws>", "AnswerCount": "1", "CommentCount": "6", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "118232517", "PostId": "66886333", "Score": "1", "Text": "Well, is the module from github or is it from `\"../dynamodb_table\"`? Currently you reference a local module, does that module have a `name` variable?", "CreationDate": "2021-03-31T10:51:49.540", "UserId": "2442804", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "118232558", "PostId": "66886333", "Score": "0", "Text": "Yes, I use it from local, I have init success ```Initializing modules...\n- dynamo_table in ../dynamo\n\nInitializing the backend...\n\nInitializing provider plugins...\n- Reusing previous version of hashicorp/aws from the dependency lock file\n- Using previously-installed hashicorp/aws v3.34.0\n\nTerraform has been successfully initialized!```", "CreationDate": "2021-03-31T10:53:18.920", "UserId": "11802172", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Initializing provider plugins... ", "keywords": ["provider"]}]}, {"Id": "118232581", "PostId": "66886333", "Score": "2", "Text": "Then the github link is irrelevant and the question is: does your local `dynamodb_table` have a `name` variable? The answer probably is: no.", "CreationDate": "2021-03-31T10:54:22.253", "UserId": "2442804", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "118232794", "PostId": "66886333", "Score": "0", "Text": "@luk2302 I have show the dynamo/main.tf in beginning of the question, it has name attribute", "CreationDate": "2021-03-31T11:01:32.003", "UserId": "11802172", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "118232814", "PostId": "66886333", "Score": "1", "Text": "That is not a variable.", "CreationDate": "2021-03-31T11:02:19.550", "UserId": "2442804", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "118232873", "PostId": "66886333", "Score": "0", "Text": "Tks, I understand", "CreationDate": "2021-03-31T11:03:55.133", "UserId": "11802172", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "243758700", "PostHistoryTypeId": "2", "PostId": "66886333", "RevisionGUID": "f0f43c19-87a4-4786-b6b0-8f0505a0f946", "CreationDate": "2021-03-31T10:49:47.813", "UserId": "11802172", "Text": "I have a resource like this:\r\n```\r\nresource \"aws_dynamodb_table\" \"terraform_locks\" {\r\n  name         = \"trf-infra-locks\"\r\n  billing_mode = \"PAY_PER_REQUEST\"\r\n  hash_key     = \"LockID\"\r\n  attribute {\r\n    name = \"LockID\"\r\n    type = \"S\"\r\n  }\r\n}\r\n\r\n```\r\nAnd I refer above file as a module follow [github repo](https://github.com/terraform-aws-modules/terraform-aws-dynamodb-table)\r\nTf file where I refer to above file:\r\n```\r\nprovider \"aws\" {\r\n  region = var.region\r\n}\r\n\r\nmodule \"dynamodb_table\" {\r\n  source = \"../dynamodb_table\"\r\n\r\n  name      = \"my-table\"\r\n}\r\n```\r\nI have `terraform init` success but fail when run `terraform plan` \r\n```\r\n\r\nError: Unsupported argument\r\n\r\n  on main.tf line 14, in module \"dynamodb_table\":\r\n  14:   name      = \"my-table\"\r\n\r\nAn argument named \"name\" is not expected here.\r\n```\r\nHow can i fix this? \r\nTks in advance", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I have a resource like this: ``` resource \"aws_dynamodb_table\" \"terraform_locks\" { name = \"trf-infra-locks\" billing_mode = \"PAY_PER_REQUEST\" hash_key = \"LockID\" attribute { name = \"LockID\" type = \"S\" } } ``` And I refer above file as a module follow [github repo](https://github.com/terraform-aws-modules/terraform-aws-dynamodb-table) Tf file where I refer to above file: ``` provider \"aws\" { region = var.region } module \"dynamodb_table\" { source = \"../dynamodb_table\" name = \"my-table\" } ``` I have `terraform init` success but fail when run `terraform plan` ``` Error: Unsupported argument on main.tf line 14, in module \"dynamodb_table\": 14: name = \"my-table\" An argument named \"name\" is not expected here. ", "keywords": ["bill", "provider"]}]}, {"Id": "243758701", "PostHistoryTypeId": "1", "PostId": "66886333", "RevisionGUID": "f0f43c19-87a4-4786-b6b0-8f0505a0f946", "CreationDate": "2021-03-31T10:49:47.813", "UserId": "11802172", "Text": "Terraform plan err: Unsupported argument", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "243758702", "PostHistoryTypeId": "3", "PostId": "66886333", "RevisionGUID": "f0f43c19-87a4-4786-b6b0-8f0505a0f946", "CreationDate": "2021-03-31T10:49:47.813", "UserId": "11802172", "Text": "<terraform><terraform-provider-aws>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "243758831", "PostHistoryTypeId": "5", "PostId": "66886333", "RevisionGUID": "041f1a20-bd14-40e8-8603-0e8511c47b2a", "CreationDate": "2021-03-31T10:52:12.970", "UserId": "11802172", "Comment": "deleted 8 characters in body", "Text": "I have a resource like this:\r\n```\r\nresource \"aws_dynamodb_table\" \"infra_locks\" {\r\n  name         = \"infra-locks\"\r\n  billing_mode = \"PAY_PER_REQUEST\"\r\n  hash_key     = \"LockID\"\r\n  attribute {\r\n    name = \"LockID\"\r\n    type = \"S\"\r\n  }\r\n}\r\n\r\n```\r\nAnd I refer above file as a module follow [github repo](https://github.com/terraform-aws-modules/terraform-aws-dynamodb-table)\r\nTf file where I refer to above file:\r\n```\r\nprovider \"aws\" {\r\n  region = var.region\r\n}\r\n\r\nmodule \"dynamodb_table\" {\r\n  source = \"../dynamodb_table\"\r\n\r\n  name      = \"my-table\"\r\n}\r\n```\r\nI have `terraform init` success but fail when run `terraform plan` \r\n```\r\n\r\nError: Unsupported argument\r\n\r\n  on main.tf line 14, in module \"dynamodb_table\":\r\n  14:   name      = \"my-table\"\r\n\r\nAn argument named \"name\" is not expected here.\r\n```\r\nHow can i fix this? \r\nTks in advance", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I have a resource like this: ``` resource \"aws_dynamodb_table\" \"infra_locks\" { name = \"infra-locks\" billing_mode = \"PAY_PER_REQUEST\" hash_key = \"LockID\" attribute { name = \"LockID\" type = \"S\" } } ``` And I refer above file as a module follow [github repo](https://github.com/terraform-aws-modules/terraform-aws-dynamodb-table) Tf file where I refer to above file: ``` provider \"aws\" { region = var.region } module \"dynamodb_table\" { source = \"../dynamodb_table\" name = \"my-table\" } ``` I have `terraform init` success but fail when run `terraform plan` ``` Error: Unsupported argument on main.tf line 14, in module \"dynamodb_table\": 14: name = \"my-table\" An argument named \"name\" is not expected here. ", "keywords": ["bill", "provider"]}]}, {"Id": "243759274", "PostHistoryTypeId": "5", "PostId": "66886333", "RevisionGUID": "39cb890f-e545-49e2-aae2-6f307b3232e5", "CreationDate": "2021-03-31T10:58:13.903", "UserId": "11802172", "Comment": "added 47 characters in body", "Text": "I have a resource like this `repo/dynamo/main.tf`:\r\n```\r\nresource \"aws_dynamodb_table\" \"infra_locks\" {\r\n  name         = \"infra-locks\"\r\n  billing_mode = \"PAY_PER_REQUEST\"\r\n  hash_key     = \"LockID\"\r\n  attribute {\r\n    name = \"LockID\"\r\n    type = \"S\"\r\n  }\r\n}\r\n\r\n```\r\nAnd I refer above file as a module follow [github repo](https://github.com/terraform-aws-modules/terraform-aws-dynamodb-table)\r\n\r\nTf file where I refer to above file `repo/example/main.tf`:\r\n```\r\nprovider \"aws\" {\r\n  region = var.region\r\n}\r\n\r\nmodule \"dynamodb_table\" {\r\n  source = \"../dynamodb_table\"\r\n\r\n  name      = \"my-table\"\r\n}\r\n```\r\nI have `terraform init` success but fail when run `terraform plan` \r\n```\r\n\r\nError: Unsupported argument\r\n\r\n  on main.tf line 14, in module \"dynamodb_table\":\r\n  14:   name      = \"my-table\"\r\n\r\nAn argument named \"name\" is not expected here.\r\n```\r\nHow can i fix this? \r\nTks in advance", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I have a resource like this `repo/dynamo/main.tf`: ``` resource \"aws_dynamodb_table\" \"infra_locks\" { name = \"infra-locks\" billing_mode = \"PAY_PER_REQUEST\" hash_key = \"LockID\" attribute { name = \"LockID\" type = \"S\" } } ``` And I refer above file as a module follow [github repo](https://github.com/terraform-aws-modules/terraform-aws-dynamodb-table) Tf file where I refer to above file `repo/example/main.tf`: ``` provider \"aws\" { region = var.region } module \"dynamodb_table\" { source = \"../dynamodb_table\" name = \"my-table\" ", "keywords": ["bill", "provider"]}]}], "answers": [{"Id": "66950528", "PostTypeId": "2", "ParentId": "66886333", "CreationDate": "2021-04-05T09:02:29.150", "Score": "1", "Body": "<p>As @luk2302 has said:</p>\n<pre><code>resource &quot;aws_dynamodb_table&quot; &quot;infra_locks&quot; {}\n</code></pre>\n<p>The above resource exactly has <code>name</code> attribute but it 's not a variable so we can not assign anything to it.</p>\n<p>There is a confused right here.\nI have fixed by change a little bit: <code>repo/dynamo/main.tf</code></p>\n<pre><code>resource &quot;aws_dynamodb_table&quot; &quot;infra_locks&quot; {\n  name         = var.name\n  billing_mode = &quot;PAY_PER_REQUEST&quot;\n  hash_key     = &quot;LockID&quot;\n  attribute {\n    name = &quot;LockID&quot;\n    type = &quot;S&quot;\n  }\n}\n</code></pre>\n<p><code>repo/dynamo/variable.tf</code></p>\n<pre><code>variable &quot;name&quot; {\n  description = &quot;dynamo table name&quot;\n  default     = null\n}\n</code></pre>\n<p>And final, we can configure your <code>dynamo_table</code> 's name.</p>\n", "OwnerUserId": "11802172", "LastActivityDate": "2021-04-05T09:02:29.150", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "244033779", "PostHistoryTypeId": "2", "PostId": "66950528", "RevisionGUID": "21d5dcf9-9413-4813-a2f0-491d7aa0a79b", "CreationDate": "2021-04-05T09:02:29.150", "UserId": "11802172", "Text": "As @luk2302 has said:\r\n```\r\nresource \"aws_dynamodb_table\" \"infra_locks\" {}\r\n```\r\nThe above resource exactly has `name` attribute but it 's not a variable so we can not assign anything to it.\r\n\r\nThere is a confused right here.\r\nI have fixed by change a little bit: `repo/dynamo/main.tf`\r\n```\r\nresource \"aws_dynamodb_table\" \"infra_locks\" {\r\n  name         = var.name\r\n  billing_mode = \"PAY_PER_REQUEST\"\r\n  hash_key     = \"LockID\"\r\n  attribute {\r\n    name = \"LockID\"\r\n    type = \"S\"\r\n  }\r\n}\r\n```\r\n`repo/dynamo/variable.tf`\r\n```\r\nvariable \"name\" {\r\n  description = \"dynamo table name\"\r\n  default     = null\r\n}\r\n```\r\nAnd final, we can configure your `dynamo_table` 's name.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I have fixed by change a little bit: `repo/dynamo/main.tf` ``` resource \"aws_dynamodb_table\" \"infra_locks\" { name = var.name billing_mode = \"PAY_PER_REQUEST\" hash_key = \"LockID\" attribute { name = \"LockID\" type = \"S\" ", "keywords": ["bill", "change"]}]}], "filtered-sentences": [{"source": "Body", "text": "I have fixed by change a little bit: repo/dynamo/main.tf repo/dynamo/variable.tf And final, we can configure your dynamo_table 's name.", "keywords": ["change"]}]}], "contains-topic": true, "filtered-sentences": []}