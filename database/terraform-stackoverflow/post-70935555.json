{"Id": "70935555", "PostTypeId": "1", "AcceptedAnswerId": "70936027", "CreationDate": "2022-02-01T04:26:19.720", "Score": "-1", "ViewCount": "2996", "Body": "<p>I am getting the below Error when trying to execute terraform in BitBucket Pipeline. However, the same code works perfectly fine when <code>$parent_ou_id == &quot;r-plat&quot;</code> and fails for anything else with below Error. Can someone take a look? TIA</p>\n<pre><code>          - terraform init\n          - if [[  $parent_ou_id == &quot;r-plat&quot; ]]; then AWS_ACCESS_KEY_ID=&quot;$TEST_AWS_ACCESS_KEY_ID&quot; AWS_SECRET_ACCESS_KEY=&quot;$TEST_AWS_SECRET_ACCESS_KEY&quot; ; fi\n          # Automatically apply\n          - &gt;\n            terraform apply\n            --auto-approve\n            -var account_id=$account_id\n            -var app_id=$app_id\n            -var customer_name=&quot;$customer_name&quot;\n            -var environment=$non_prod_environment_name\n            -var env_id=$non_prod_env_id\n            -var parent_id=$parent_ou_id\n            -var billing_id=$billing_id\n            -var builder=$builder\n            -var cloudcraft=$cloudcraft\n            -var enterprise_support=$enterprise_support\n            -var category=$category\n            -var owner=$owner\n            -var budget_daily=$budget_daily\n            -var aws_region=us-east-1 # Even though this is global (AWS), a region specification is needed here.\n          - aws_account_id=$(terraform output aws_account_id | grep -o '[0-9]\\{12\\}')\n</code></pre>\n<p><strong>Error</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dahCP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dahCP.png\" alt=\"enter image description here\" /></a></p>\n", "OwnerUserId": "8424582", "LastActivityDate": "2022-02-01T05:42:44.910", "Title": "Error: Too many command line arguments Expected at most one positional argument", "Tags": "<amazon-web-services><terraform><bitbucket><terraform-provider-aws><hashicorp>", "AnswerCount": "1", "CommentCount": "3", "FavoriteCount": "0", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "125400932", "PostId": "70935555", "Score": "1", "Text": "Did you try with quotations: `parent_id=\"${parent_ou_id}\"`?", "CreationDate": "2022-02-01T04:30:03.577", "UserId": "248823", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "125401298", "PostId": "70935555", "Score": "0", "Text": "Same issue - with `parent_id=\"${parent_ou_id}\"`", "CreationDate": "2022-02-01T05:09:05.697", "UserId": "8424582", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "125402651", "PostId": "70935555", "Score": "0", "Text": "Please [don\u2019t post images of code, error messages, or other textual data.](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors)", "CreationDate": "2022-02-01T07:06:18.400", "UserId": "874188", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "263153888", "PostHistoryTypeId": "2", "PostId": "70935555", "RevisionGUID": "420a85af-6da5-4be8-9344-62609ea56e48", "CreationDate": "2022-02-01T04:26:19.720", "UserId": "8424582", "Text": "\r\nI am getting the below Error when trying to execute terraform in BitBucket Pipeline. However, the same code works perfectly fine when `$parent_ou_id == \"r-plat\"` and fails for anything else with below Error. Can someone take a look? TIA\r\n\r\n\r\n\r\n```\r\n          - terraform init\r\n          - if [[  $parent_ou_id == \"r-plat\" ]]; then AWS_ACCESS_KEY_ID=\"$TEST_AWS_ACCESS_KEY_ID\" AWS_SECRET_ACCESS_KEY=\"$TEST_AWS_SECRET_ACCESS_KEY\" ; fi\r\n          # Automatically apply\r\n          - >\r\n            terraform apply\r\n            --auto-approve\r\n            -var account_id=$account_id\r\n            -var app_id=$app_id\r\n            -var customer_name=\"$customer_name\"\r\n            -var environment=$non_prod_environment_name\r\n            -var env_id=$non_prod_env_id\r\n            -var parent_id=$parent_ou_id\r\n            -var billing_id=$billing_id\r\n            -var builder=$builder\r\n            -var cloudcraft=$cloudcraft\r\n            -var enterprise_support=$enterprise_support\r\n            -var category=$category\r\n            -var owner=$owner\r\n            -var budget_daily=$budget_daily\r\n            -var aws_region=us-east-1 # Even though this is global (AWS), a region specification is needed here.\r\n          - aws_account_id=$(terraform output aws_account_id | grep -o '[0-9]\\{12\\}')\r\n```\r\n\r\n**Error**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dahCP.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Can someone take a look? TIA ``` - terraform init - if [[ $parent_ou_id == \"r-plat\" ]]; then AWS_ACCESS_KEY_ID=\"$TEST_AWS_ACCESS_KEY_ID\" AWS_SECRET_ACCESS_KEY=\"$TEST_AWS_SECRET_ACCESS_KEY\" ; fi # Automatically apply - > terraform apply --auto-approve -var account_id=$account_id -var app_id=$app_id -var customer_name=\"$customer_name\" -var environment=$non_prod_environment_name -var env_id=$non_prod_env_id -var parent_id=$parent_ou_id -var billing_id=$billing_id -var builder=$builder -var cloudcraft=$cloudcraft -var enterprise_support=$enterprise_support -var category=$category -var owner=$owner -var budget_daily=$budget_daily -var aws_region=us-east-1 # Even though this is global (AWS), a region specification is needed here. - aws_account_id=$(terraform output aws_account_id | grep -o '[0-9]\\{12\\}') ``` ", "keywords": ["bill", "test"]}]}, {"Id": "263153890", "PostHistoryTypeId": "1", "PostId": "70935555", "RevisionGUID": "420a85af-6da5-4be8-9344-62609ea56e48", "CreationDate": "2022-02-01T04:26:19.720", "UserId": "8424582", "Text": "Error: Too many command line arguments Expected at most one positional argument", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "263153891", "PostHistoryTypeId": "3", "PostId": "70935555", "RevisionGUID": "420a85af-6da5-4be8-9344-62609ea56e48", "CreationDate": "2022-02-01T04:26:19.720", "UserId": "8424582", "Text": "<amazon-web-services><terraform><bitbucket><terraform-provider-aws><hashicorp>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "70936027", "PostTypeId": "2", "ParentId": "70935555", "CreationDate": "2022-02-01T05:42:44.910", "Score": "0", "Body": "<p>I fixed this using quotes for :</p>\n<pre><code> -var owner=&quot;$owner&quot;\n -var budget_daily=&quot;$budget_daily&quot;\n</code></pre>\n", "OwnerUserId": "8424582", "LastActivityDate": "2022-02-01T05:42:44.910", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "263156320", "PostHistoryTypeId": "2", "PostId": "70936027", "RevisionGUID": "0727bb2f-8f55-4f3e-89fd-04cac66e22e4", "CreationDate": "2022-02-01T05:42:44.910", "UserId": "8424582", "Text": "I fixed this using quotes for :\r\n\r\n```\r\n -var owner=\"$owner\"\r\n -var budget_daily=\"$budget_daily\"\r\n```", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": []}