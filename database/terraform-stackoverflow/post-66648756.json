{"Id": "66648756", "PostTypeId": "1", "AcceptedAnswerId": "66649033", "CreationDate": "2021-03-16T03:34:14.593", "Score": "1", "ViewCount": "349", "Body": "<p>How to use loop or something else to make it efficient way not using regex.</p>\n<pre><code>variable &quot;instance_auto_renew_period&quot; {\n  description = &quot;Instance auto-renewal period (in months). Set it to 0 if you want to disable auto renew of DB instance.&quot;\n  default     = 0\n  type        = string\n  validation {\n    condition     = contains([&quot;0&quot;, 1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12&quot;], var.instance_auto_renew_period)\n    error_message = &quot;Must be an valid instance_auto_renew_period.&quot;\n  } \n}\n</code></pre>\n", "OwnerUserId": "15404467", "LastEditorUserId": "15404467", "LastEditDate": "2021-03-16T03:50:28.253", "LastActivityDate": "2021-03-16T04:14:47.780", "Title": "Terraform variable validation", "Tags": "<validation><variables><terraform>", "AnswerCount": "1", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "117818338", "PostId": "66648756", "Score": "0", "Text": "What do you want to achieve? Do you have examples of valid input and invalid ones?", "CreationDate": "2021-03-16T03:57:49.947", "UserId": "248823", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "117818396", "PostId": "66648756", "Score": "0", "Text": "valid input is between [0-12] if any value more than 12 is not acceptable\nwant to achieve same thing as posted in above snippet, but with loop or something else.", "CreationDate": "2021-03-16T04:03:21.427", "UserId": "15404467", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "242749898", "PostHistoryTypeId": "2", "PostId": "66648756", "RevisionGUID": "275edd38-bcc6-48d0-975e-6693fa80538d", "CreationDate": "2021-03-16T03:34:14.593", "UserId": "15404467", "Text": "How to use loop or something else to make it efficient way not using regex.\r\n\r\n    variable \"instance_auto_renew_period\" {\r\n      description = \"Instance auto-renewal period (in months). Set it to 0 if you want to disable auto renew of DB instance.\"\r\n      default     = 0\r\n      type        = string\r\n      validation {\r\n        condition     = contains([\"0\", 1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"], var.instance_auto_renew_period)\r\n        error_message = \"Must be an valid instance_auto_renew_period.\"\r\n      } \r\n    }", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "How to use loop or something else to make it efficient way not using regex. variable \"instance_auto_renew_period\" { description = \"Instance auto-renewal period (in months). ", "keywords": ["efficient", "instance"]}, {"source": "Text", "text": "Set it to 0 if you want to disable auto renew of DB instance.\" default = 0 type = string validation { condition = contains([\"0\", 1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"], var.instance_auto_renew_period) error_message = \"Must be an valid instance_auto_renew_period.\" ", "keywords": ["instance"]}]}, {"Id": "242749899", "PostHistoryTypeId": "1", "PostId": "66648756", "RevisionGUID": "275edd38-bcc6-48d0-975e-6693fa80538d", "CreationDate": "2021-03-16T03:34:14.593", "UserId": "15404467", "Text": "Terraform variable validation", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "242749900", "PostHistoryTypeId": "3", "PostId": "66648756", "RevisionGUID": "275edd38-bcc6-48d0-975e-6693fa80538d", "CreationDate": "2021-03-16T03:34:14.593", "UserId": "15404467", "Text": "<terraform>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "242750283", "PostHistoryTypeId": "6", "PostId": "66648756", "RevisionGUID": "cddb2bcc-5f6b-4902-ac6d-2d16b1fcd727", "CreationDate": "2021-03-16T03:50:28.253", "UserId": "15404467", "Comment": "edited tags", "Text": "<validation><variables><terraform>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "66649033", "PostTypeId": "2", "ParentId": "66648756", "CreationDate": "2021-03-16T04:14:47.780", "Score": "1", "Body": "<p>I think the easiest way to achieve that is as follows:</p>\n<pre><code>variable &quot;instance_auto_renew_period&quot; {\n  description = &quot;Instance auto-renewal period (in months). Set it to 0 if you want to disable auto renew of DB instance.&quot;\n  default     = 0\n  type        = number\n  validation {\n    condition     = var.instance_auto_renew_period &lt;= 12 &amp;&amp; var.instance_auto_renew_period &gt;= 0\n    error_message = &quot;Must be an valid instance_auto_renew_period.&quot;\n  } \n}\n</code></pre>\n", "OwnerUserId": "248823", "LastActivityDate": "2021-03-16T04:14:47.780", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "242751056", "PostHistoryTypeId": "2", "PostId": "66649033", "RevisionGUID": "c15102bf-0a5d-4394-b0e3-d93b60182244", "CreationDate": "2021-03-16T04:14:47.780", "UserId": "248823", "Text": "I think the easiest way to achieve that is as follows:\r\n\r\n\r\n```\r\nvariable \"instance_auto_renew_period\" {\r\n  description = \"Instance auto-renewal period (in months). Set it to 0 if you want to disable auto renew of DB instance.\"\r\n  default     = 0\r\n  type        = number\r\n  validation {\r\n    condition     = var.instance_auto_renew_period <= 12 && var.instance_auto_renew_period >= 0\r\n    error_message = \"Must be an valid instance_auto_renew_period.\"\r\n  } \r\n}\r\n```", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I think the easiest way to achieve that is as follows: ``` variable \"instance_auto_renew_period\" { description = \"Instance auto-renewal period (in months). ", "keywords": ["instance"]}, {"source": "Text", "text": "Set it to 0 if you want to disable auto renew of DB instance.\" default = 0 type = number validation { condition = var.instance_auto_renew_period <= 12 && var.instance_auto_renew_period >= 0 error_message = \"Must be an valid instance_auto_renew_period.\" } } ```", "keywords": ["instance"]}]}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "How to use loop or something else to make it efficient way not using regex.", "keywords": ["efficient"]}]}