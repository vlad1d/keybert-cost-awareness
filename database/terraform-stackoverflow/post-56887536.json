{"Id": "56887536", "PostTypeId": "1", "CreationDate": "2019-07-04T12:03:04.243", "Score": "0", "ViewCount": "235", "Body": "<p>When I execute the command terraform apply it throws the Error. Every configurations and connectivity from my local machine works fine. I checked using the below command.</p>\n\n<ol>\n<li>gcloud auth login and </li>\n<li>Verified using gcloud config list. </li>\n</ol>\n\n<p>I have attached the main and variable tf files below </p>\n\n<pre><code>resource \"google_project\" \"my_project\" {\n  name = \"${var.project_name}\"\n  project_id = \"${var.project_id}\"\n}\n\nprovider \"google\" {\n  project = \"${var.project_id}\"\n  region  = \"${var.region}\"\n  zone    = \"${var.zone}\"\n}\n\nresource \"google_project_services\" \"project\" {\n  project = \"${var.project_id}\"\n  services   = [\"composer.googleapis.com\", \"iam.googleapis.com\", \"cloudresourcemanager.googleapis.com\"]\n}\n\nresource \"google_pubsub_topic\" \"topic\" {\n  name    = \"${var.topic}\"\n  project = \"${var.project_id}\"\n}\n\nresource \"google_pubsub_subscription\" \"push_subscriptions\" {\n  count                = \"${length(var.push_subscriptions)}\"\n  name                 = \"${lookup(var.push_subscriptions[count.index], \"name\")}\"\n  topic                = \"${google_pubsub_topic.topic.name}\"\n  project              = \"${var.project_id}\"\n\n  depends_on = [\"google_pubsub_topic.topic\"]\n}\n\nresource \"google_pubsub_subscription\" \"pull_subscriptions\" {\n  count                = \"${length(var.pull_subscriptions)}\"\n  name                 = \"${lookup(var.pull_subscriptions[count.index], \"name\")}\"\n  topic                = \"${google_pubsub_topic.topic.name}\"\n  project              = \"${var.project_id}\"\n\n  depends_on = [\"google_pubsub_topic.topic\"]\n}\n</code></pre>\n\n<p>Variables.tf file</p>\n\n<pre><code>variable \"project_id\" {\n  default     = \"media-intelligence-244309\"\n}\n\nvariable \"region\" {\n  default     = \"asia-south1\"\n}\n\nvariable \"zone\" {\n  default     = \"asia-south1-b\"\n}\n\nvariable \"project_name\" {\n  default     = \"media-intelligence\"\n}\n\nvariable \"topic\" {\n  default     = \"topic-1\"\n}\n\nvariable \"push_subscriptions\" {\n  type        = \"list\"\n  default     = []\n}\n\nvariable \"pull_subscriptions\" {\n  type        = \"list\"\n  default     = []\n}\n</code></pre>\n\n<p>Error: Error applying plan:</p>\n\n<p>3 error(s) occurred:</p>\n\n<ul>\n<li><p>google_project_services.project: 1 error(s) occurred:</p></li>\n<li><p>google_project_services.project: Error authoritatively enabling Project media-244309 Services: Get <a href=\"https://cloudresourcemanager.googleapis.com/v1/projects/media-244309?alt=json&amp;prettyPrint=false\" rel=\"nofollow noreferrer\">https://cloudresourcemanager.googleapis.com/v1/projects/media-244309?alt=json&amp;prettyPrint=false</a>: oauth2: cannot fetch token: 400 Bad Request\nResponse: {\n\"error\": \"invalid_grant\",\n\"error_description\": \"Robot is disabled.\"\n}</p></li>\n</ul>\n", "OwnerUserId": "4348881", "LastActivityDate": "2019-07-04T12:03:04.243", "Title": "Error authoritatively enabling Project media-244309 Services", "Tags": "<google-cloud-platform><terraform>", "AnswerCount": "0", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "100330884", "PostId": "56887536", "Score": "0", "Text": "Do you have a billing problem?", "CreationDate": "2019-07-04T17:11:32.690", "UserId": "8016720", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Do you have a billing problem?", "keywords": ["bill"]}]}, {"Id": "100335954", "PostId": "56887536", "Score": "0", "Text": "Make sure \n the proper setting: https://www.terraform.io/docs/providers/google/getting_started.html#adding-credentials", "CreationDate": "2019-07-04T22:54:32.130", "UserId": "498256", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "200902880", "PostHistoryTypeId": "2", "PostId": "56887536", "RevisionGUID": "f41acee5-c373-4f96-9f2c-b5c67344d92d", "CreationDate": "2019-07-04T12:03:04.243", "UserId": "4348881", "Text": "When I execute the command terraform apply it throws the Error. Every configurations and connectivity from my local machine works fine. I checked using the below command.\r\n\r\n 1. gcloud auth login and \r\n 2. Verified using gcloud config list. \r\n\r\nI have attached the main and variable tf files below \r\n\r\n    resource \"google_project\" \"my_project\" {\r\n      name = \"${var.project_name}\"\r\n      project_id = \"${var.project_id}\"\r\n    }\r\n    \r\n    provider \"google\" {\r\n      project = \"${var.project_id}\"\r\n      region  = \"${var.region}\"\r\n      zone    = \"${var.zone}\"\r\n    }\r\n    \r\n    resource \"google_project_services\" \"project\" {\r\n      project = \"${var.project_id}\"\r\n      services   = [\"composer.googleapis.com\", \"iam.googleapis.com\", \"cloudresourcemanager.googleapis.com\"]\r\n    }\r\n    \r\n    resource \"google_pubsub_topic\" \"topic\" {\r\n      name    = \"${var.topic}\"\r\n      project = \"${var.project_id}\"\r\n    }\r\n    \r\n    resource \"google_pubsub_subscription\" \"push_subscriptions\" {\r\n      count                = \"${length(var.push_subscriptions)}\"\r\n      name                 = \"${lookup(var.push_subscriptions[count.index], \"name\")}\"\r\n      topic                = \"${google_pubsub_topic.topic.name}\"\r\n      project              = \"${var.project_id}\"\r\n    \r\n      depends_on = [\"google_pubsub_topic.topic\"]\r\n    }\r\n    \r\n    resource \"google_pubsub_subscription\" \"pull_subscriptions\" {\r\n      count                = \"${length(var.pull_subscriptions)}\"\r\n      name                 = \"${lookup(var.pull_subscriptions[count.index], \"name\")}\"\r\n      topic                = \"${google_pubsub_topic.topic.name}\"\r\n      project              = \"${var.project_id}\"\r\n    \r\n      depends_on = [\"google_pubsub_topic.topic\"]\r\n    }\r\n\r\nVariables.tf file\r\n\r\n    variable \"project_id\" {\r\n      default     = \"media-intelligence-244309\"\r\n    }\r\n    \r\n    variable \"region\" {\r\n      default     = \"asia-south1\"\r\n    }\r\n    \r\n    variable \"zone\" {\r\n      default     = \"asia-south1-b\"\r\n    }\r\n    \r\n    variable \"project_name\" {\r\n      default     = \"media-intelligence\"\r\n    }\r\n    \r\n    variable \"topic\" {\r\n      default     = \"topic-1\"\r\n    }\r\n    \r\n    variable \"push_subscriptions\" {\r\n      type        = \"list\"\r\n      default     = []\r\n    }\r\n    \r\n    variable \"pull_subscriptions\" {\r\n      type        = \"list\"\r\n      default     = []\r\n    }\r\n\r\nError: Error applying plan:\r\n\r\n3 error(s) occurred:\r\n\r\n* google_project_services.project: 1 error(s) occurred:\r\n\r\n* google_project_services.project: Error authoritatively enabling Project media-244309 Services: Get https://cloudresourcemanager.googleapis.com/v1/projects/media-244309?alt=json&prettyPrint=false: oauth2: cannot fetch token: 400 Bad Request\r\nResponse: {\r\n  \"error\": \"invalid_grant\",\r\n  \"error_description\": \"Robot is disabled.\"\r\n}\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I have attached the main and variable tf files below resource \"google_project\" \"my_project\" { name = \"${var.project_name}\" project_id = \"${var.project_id}\" } provider \"google\" { project = \"${var.project_id}\" region = \"${var.region}\" zone = \"${var.zone}\" } resource \"google_project_services\" \"project\" { project = \"${var.project_id}\" services = [\"composer.googleapis.com\", \"iam.googleapis.com\", \"cloudresourcemanager.googleapis.com\"] } resource \"google_pubsub_topic\" \"topic\" { name = \"${var.topic}\" project = \"${var.project_id}\" } resource \"google_pubsub_subscription\" \"push_subscriptions\" { count = \"${length(var.push_subscriptions)}\" name = \"${lookup(var.push_subscriptions[count.index], \"name\")}\" topic = \"${google_pubsub_topic.topic.name}\" project = \"${var.project_id}\" depends_on = [\"google_pubsub_topic.topic\"] } resource \"google_pubsub_subscription\" \"pull_subscriptions\" { count = \"${length(var.pull_subscriptions)}\" name = \"${lookup(var.pull_subscriptions[count.index], \"name\")}\" topic = \"${google_pubsub_topic.topic.name}\" project = \"${var.project_id}\" depends_on = [\"google_pubsub_topic.topic\"] } Variables.tf file variable \"project_id\" { default = \"media-intelligence-244309\" } variable \"region\" { default = \"asia-south1\" } variable \"zone\" { default = \"asia-south1-b\" } variable \"project_name\" { default = \"media-intelligence\" } variable \"topic\" { default = \"topic-1\" } variable \"push_subscriptions\" { type = \"list\" default = [] } variable \"pull_subscriptions\" { type = \"list\" default = [] } Error: Error applying plan: 3 error(s) occurred: * google_project_services.project: 1 error(s) occurred: * google_project_services.project: Error authoritatively enabling Project media-244309 Services: Get https://cloudresourcemanager.googleapis.com/v1/projects/media-244309?alt=json&prettyPrint=false: oauth2: cannot fetch token: 400 Bad Request Response: { \"error\": \"invalid_grant\", \"error_description\": \"Robot is disabled.\" ", "keywords": ["provider"]}]}, {"Id": "200902881", "PostHistoryTypeId": "1", "PostId": "56887536", "RevisionGUID": "f41acee5-c373-4f96-9f2c-b5c67344d92d", "CreationDate": "2019-07-04T12:03:04.243", "UserId": "4348881", "Text": "Error authoritatively enabling Project media-244309 Services", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "200902882", "PostHistoryTypeId": "3", "PostId": "56887536", "RevisionGUID": "f41acee5-c373-4f96-9f2c-b5c67344d92d", "CreationDate": "2019-07-04T12:03:04.243", "UserId": "4348881", "Text": "<google-cloud-platform><terraform>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": []}