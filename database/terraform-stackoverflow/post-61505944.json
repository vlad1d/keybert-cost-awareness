{"Id": "61505944", "PostTypeId": "1", "CreationDate": "2020-04-29T15:48:04.093", "Score": "1", "ViewCount": "1584", "Body": "<p>For every new <code>fileshare</code> that we create in <code>Azure Storage account</code> we get a <code>connect</code> option \n<a href=\"https://i.stack.imgur.com/JJMjp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JJMjp.png\" alt=\"enter image description here\"></a>, </p>\n\n<p>if we click <code>connect</code> we get the below options, </p>\n\n<p><a href=\"https://i.stack.imgur.com/j9fSU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9fSU.png\" alt=\"enter image description here\"></a></p>\n\n<p>is it possible to get that piece of code to mount this fileshare through <code>terraform</code>? I could not find it anywhere. Any help on this would be appreciated</p>\n", "OwnerUserId": "13081977", "LastEditorUserId": "781754", "LastEditDate": "2020-04-29T21:40:34.877", "LastActivityDate": "2020-04-30T05:57:09.310", "Title": "Get Mount script from Azure file share - Terraform", "Tags": "<terraform><terraform-provider-azure>", "AnswerCount": "1", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "108808957", "PostId": "61505944", "Score": "0", "Text": "You can't get this command from terraform, but, you can generate it and replace the hard-coded strings with variables, let me know if you would like an example", "CreationDate": "2020-04-29T20:09:38.480", "UserId": "9931092", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "108934654", "PostId": "61505944", "Score": "0", "Text": "Any more questions? Does it solve your problem?", "CreationDate": "2020-05-04T00:49:55.253", "UserId": "9773937", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "220421634", "PostHistoryTypeId": "2", "PostId": "61505944", "RevisionGUID": "77958705-6161-45c7-a567-f4bed432b00c", "CreationDate": "2020-04-29T15:48:04.093", "UserId": "13081977", "Text": "For every new `fileshare` that we create in `Azure Storage account` we get a `connect` option \r\n[![enter image description here][1]][1], \r\n\r\nif we click `connect` we get the below options, \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nis it possible to get that piece of code to mount this fileshare through `terraform`? I could not find it anywhere. Any help on this would be appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JJMjp.png\r\n  [2]: https://i.stack.imgur.com/QbPyI.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "For every new `fileshare` that we create in `Azure Storage account` we get a `connect` option [![enter image description here][1]][1], if we click `connect` we get the below options, [![enter image description here][2]][2] is it possible to get that piece of code to mount this fileshare through `terraform`? ", "keywords": ["storage"]}]}, {"Id": "220421635", "PostHistoryTypeId": "1", "PostId": "61505944", "RevisionGUID": "77958705-6161-45c7-a567-f4bed432b00c", "CreationDate": "2020-04-29T15:48:04.093", "UserId": "13081977", "Text": "Get Mount script from Azure file share - Terraform", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "220421636", "PostHistoryTypeId": "3", "PostId": "61505944", "RevisionGUID": "77958705-6161-45c7-a567-f4bed432b00c", "CreationDate": "2020-04-29T15:48:04.093", "UserId": "13081977", "Text": "<terraform><terraform-provider-azure>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "220422088", "PostHistoryTypeId": "5", "PostId": "61505944", "RevisionGUID": "ce0316fa-9a5f-4d91-8fce-9adde61281a8", "CreationDate": "2020-04-29T15:53:43.963", "UserId": "13081977", "Comment": "edited body", "Text": "For every new `fileshare` that we create in `Azure Storage account` we get a `connect` option \r\n[![enter image description here][1]][1], \r\n\r\nif we click `connect` we get the below options, \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nis it possible to get that piece of code to mount this fileshare through `terraform`? I could not find it anywhere. Any help on this would be appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JJMjp.png\r\n  [2]: https://i.stack.imgur.com/j9fSU.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "For every new `fileshare` that we create in `Azure Storage account` we get a `connect` option [![enter image description here][1]][1], if we click `connect` we get the below options, [![enter image description here][2]][2] is it possible to get that piece of code to mount this fileshare through `terraform`? ", "keywords": ["storage"]}]}, {"Id": "220428279", "PostHistoryTypeId": "6", "PostId": "61505944", "RevisionGUID": "c4f4a956-8f39-4ec7-a26f-51b2eef1e28d", "CreationDate": "2020-04-29T17:12:59.937", "UserId": "13081977", "Comment": "edited tags", "Text": "<azure-devops><terraform><terraform-provider-azure>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "220446625", "PostHistoryTypeId": "6", "PostId": "61505944", "RevisionGUID": "810f493c-987c-468d-8a5e-f0d863b11ed0", "CreationDate": "2020-04-29T21:40:34.877", "UserId": "781754", "Comment": "edited tags", "Text": "<terraform><terraform-provider-azure>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "61516790", "PostTypeId": "2", "ParentId": "61505944", "CreationDate": "2020-04-30T05:57:09.310", "Score": "2", "Body": "<p>Of course, it's possible. You just need to copy the code into a script and then use the VM extension to execute inside the VM. It's not complex at all. Here is an <a href=\"http://hypernephelist.com/2019/06/25/azure-vm-custom-script-extensions-with-terraform.html\" rel=\"nofollow noreferrer\">example</a>.</p>\n\n<p>But there is one thing you need to pay attention to, the VM extension only supports the non-interactive script. For example, the connect code for the Linux, the command <code>sudo</code> is an interactive command, so it's not recommended to use in the VM extension. You can get more details about the VM extension <a href=\"https://learn.microsoft.com/en-us/azure/virtual-machines/extensions/overview\" rel=\"nofollow noreferrer\">here</a>.</p>\n", "OwnerUserId": "9773937", "LastActivityDate": "2020-04-30T05:57:09.310", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "220465794", "PostHistoryTypeId": "2", "PostId": "61516790", "RevisionGUID": "a685ad92-3c13-4f0d-a125-839250c740e9", "CreationDate": "2020-04-30T05:57:09.310", "UserId": "9773937", "Text": "Of course, it's possible. You just need to copy the code into a script and then use the VM extension to execute inside the VM. It's not complex at all. Here is an [example][1].\r\n\r\nBut there is one thing you need to pay attention to, the VM extension only supports the non-interactive script. For example, the connect code for the Linux, the command `sudo` is an interactive command, so it's not recommended to use in the VM extension. You can get more details about the VM extension [here][2].\r\n\r\n\r\n  [1]: http://hypernephelist.com/2019/06/25/azure-vm-custom-script-extensions-with-terraform.html\r\n  [2]: https://learn.microsoft.com/en-us/azure/virtual-machines/extensions/overview", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "But there is one thing you need to pay attention to, the VM extension only supports the non-interactive script. ", "keywords": ["pay"]}]}], "filtered-sentences": [{"source": "Body", "text": "But there is one thing you need to pay attention to, the VM extension only supports the non-interactive script. ", "keywords": ["pay"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "For every new fileshare that we create in Azure Storage account we get a connect option , if we click connect we get the below options, is it possible to get that piece of code to mount this fileshare through terraform? ", "keywords": ["storage"]}]}