{"Id": "72592003", "PostTypeId": "1", "AcceptedAnswerId": "72623670", "CreationDate": "2022-06-12T12:01:18.043", "Score": "0", "ViewCount": "1212", "Body": "<p>I am getting below error when trying to create GCP Cloud Armor from terraform or Console.</p>\n<pre><code>\u2502 Error: Error waiting for Creating SecurityPolicy &quot;default-policy&quot;: Quota 'SECURITY_POLICY_RULES' exceeded.  Limit: 0.0 globally.\n</code></pre>\n<p>I am using a Free Tier account. I checked in Quota , I couldn't find Cloud armor. How can I make it work.</p>\n<p><a href=\"https://i.stack.imgur.com/IHNff.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IHNff.png\" alt=\"enter image description here\" /></a></p>\n<p>with security policies Quota , getting compute engine API service</p>\n<p><a href=\"https://i.stack.imgur.com/4UEuU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4UEuU.png\" alt=\"enter image description here\" /></a></p>\n<p>with security policy api getting compute engine API service</p>\n<p><a href=\"https://i.stack.imgur.com/NtCCH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NtCCH.png\" alt=\"enter image description here\" /></a></p>\n<p>And getting below message when I hover over both the services check box\n<a href=\"https://i.stack.imgur.com/9he9X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9he9X.png\" alt=\"enter image description here\" /></a></p>\n", "OwnerUserId": "16536734", "LastEditorUserId": "16536734", "LastEditDate": "2022-06-13T14:01:02.103", "LastActivityDate": "2022-09-27T09:52:23.877", "Title": "GCP Cloud armor Quota 'SECURITY_POLICY_RULES' exceeded. Limit: 0.0 globally error for Free tier account", "Tags": "<google-cloud-platform><terraform><google-cloud-armor>", "AnswerCount": "2", "CommentCount": "6", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "128233746", "PostId": "72592003", "Score": "0", "Text": "Enable billing as the first step. If you have already done that, request a quota increase for Cloud Armor.", "CreationDate": "2022-06-12T16:46:31.410", "UserId": "8016720", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Enable billing as the first step. ", "keywords": ["bill"]}]}, {"Id": "128234520", "PostId": "72592003", "Score": "0", "Text": "Billing is enabled. I couldn't find cloud armor  in the filter in Quota's section to request for quota increase. Image pasted in the query.", "CreationDate": "2022-06-12T17:42:29.363", "UserId": "16536734", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "128235679", "PostId": "72592003", "Score": "0", "Text": "https://cloud.google.com/armor/quotas IIRC the quota is **security policy** or **security policy rules**", "CreationDate": "2022-06-12T19:20:31.300", "UserId": "8016720", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "https://cloud.google.com/armor/quotas IIRC the quota is **security policy** or **security policy rules**", "keywords": ["policy"]}]}, {"Id": "128250813", "PostId": "72592003", "Score": "0", "Text": "If I select quota is security policy or security policy rules, I get the message I am not eligible to increase quota, make use of available quota . but I dont have any quota available. Added images in the post", "CreationDate": "2022-06-13T13:56:24.473", "UserId": "16536734", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "If I select quota is security policy or security policy rules, I get the message I am not eligible to increase quota, make use of available quota . ", "keywords": ["policy"]}]}, {"Id": "128255435", "PostId": "72592003", "Score": "1", "Text": "Stack Overflow cannot help you with vendor policies. Your account is restricted and you will need to ask Google to allow access to those services.", "CreationDate": "2022-06-13T16:59:19.537", "UserId": "8016720", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "128271757", "PostId": "72592003", "Score": "0", "Text": "Thanks for your input , I talked to cloud support increase quota . They said I need to have a certain usage history to increase the quota. Can you add your answer in the answer section . So I can mark it as solution.", "CreationDate": "2022-06-14T11:13:15.823", "UserId": "16536734", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "272078903", "PostHistoryTypeId": "2", "PostId": "72592003", "RevisionGUID": "9f901cf6-487a-4162-9e25-d676dfe9f33a", "CreationDate": "2022-06-12T12:01:18.043", "UserId": "16536734", "Text": "I am getting below error when trying to create GCP Cloud Armor from terraform or Console.\r\n \r\n\r\n    \u2502 Error: Error waiting for Creating SecurityPolicy \"default-policy\": Quota 'SECURITY_POLICY_RULES' exceeded.  Limit: 0.0 globally.\r\n\r\nI am using a Free Tier account. I checked in Quota , I couldn't find Cloud armor. How can I make it work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IHNff.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "\u2502 Error: Error waiting for Creating SecurityPolicy \"default-policy\": Quota 'SECURITY_POLICY_RULES' exceeded. ", "keywords": ["policy"]}]}, {"Id": "272078905", "PostHistoryTypeId": "1", "PostId": "72592003", "RevisionGUID": "9f901cf6-487a-4162-9e25-d676dfe9f33a", "CreationDate": "2022-06-12T12:01:18.043", "UserId": "16536734", "Text": "GCP Cloud armor Quota 'SECURITY_POLICY_RULES' exceeded. Limit: 0.0 globally error for Free tier account", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "272078906", "PostHistoryTypeId": "3", "PostId": "72592003", "RevisionGUID": "9f901cf6-487a-4162-9e25-d676dfe9f33a", "CreationDate": "2022-06-12T12:01:18.043", "UserId": "16536734", "Text": "<google-cloud-platform><terraform><google-cloud-armor>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "272145009", "PostHistoryTypeId": "5", "PostId": "72592003", "RevisionGUID": "f9b71ad5-66b9-4da9-bed1-ab5468ddd1e4", "CreationDate": "2022-06-13T14:01:02.103", "UserId": "16536734", "Comment": "added 472 characters in body", "Text": "I am getting below error when trying to create GCP Cloud Armor from terraform or Console.\r\n \r\n\r\n    \u2502 Error: Error waiting for Creating SecurityPolicy \"default-policy\": Quota 'SECURITY_POLICY_RULES' exceeded.  Limit: 0.0 globally.\r\n\r\nI am using a Free Tier account. I checked in Quota , I couldn't find Cloud armor. How can I make it work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nwith security policies Quota , getting compute engine API service\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nwith security policy api getting compute engine API service\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nAnd getting below message when I hover over both the services check box\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IHNff.png\r\n  [2]: https://i.stack.imgur.com/4UEuU.png\r\n  [3]: https://i.stack.imgur.com/NtCCH.png\r\n  [4]: https://i.stack.imgur.com/9he9X.png", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "\u2502 Error: Error waiting for Creating SecurityPolicy \"default-policy\": Quota 'SECURITY_POLICY_RULES' exceeded. ", "keywords": ["policy"]}, {"source": "Text", "text": "How can I make it work. [![enter image description here][1]][1] with security policies Quota , getting compute engine API service [![enter image description here][2]][2] with security policy api getting compute engine API service [![enter image description here][3]][3] ", "keywords": ["policy"]}]}], "answers": [{"Id": "73865601", "PostTypeId": "2", "ParentId": "72592003", "CreationDate": "2022-09-27T09:52:23.877", "Score": "0", "Body": "<p>May be you would be using the security rules that are coming from the &quot;Managed Protection Plan&quot; and that's why it's showing you out of quota.\n( Assuming your account is fully activated )</p>\n<p>Google Cloud Armor comes up in 2 plans :</p>\n<ol>\n<li>Standard</li>\n<li>Managed Protection Plan</li>\n</ol>\n<p>As of their recent changes, you should be able to create the Armor Polices in Standard Mode for free.</p>\n<p>But if you happen to create policies under &quot;Armor Managed Protection Plan&quot;, this comes up with Licencing fee with google and not part of the free-tier.</p>\n<p>You can check whether the policy that you created has the rules that falls under this &quot;Threat Detection Category&quot; or not</p>\n<p>Ref: <a href=\"https://cloud.google.com/armor/docs/threat-intelligence\" rel=\"nofollow noreferrer\">https://cloud.google.com/armor/docs/threat-intelligence</a></p>\n<p>Thanks</p>\n", "OwnerUserId": "15575427", "LastActivityDate": "2022-09-27T09:52:23.877", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "279012389", "PostHistoryTypeId": "2", "PostId": "73865601", "RevisionGUID": "bafa2f4c-655d-4324-9d2f-7e30a5e32bf8", "CreationDate": "2022-09-27T09:52:23.877", "UserId": "15575427", "Text": "May be you would be using the security rules that are coming from the \"Managed Protection Plan\" and that's why it's showing you out of quota.\r\n( Assuming your account is fully activated )\r\n\r\n\r\nGoogle Cloud Armor comes up in 2 plans :\r\n1) Standard \r\n2) Managed Protection Plan \r\n\r\nAs of their recent changes, you should be able to create the Armor Polices in Standard Mode for free.\r\n\r\nBut if you happen to create policies under \"Armor Managed Protection Plan\", this comes up with Licencing fee with google and not part of the free-tier.\r\n\r\nYou can check whether the policy that you created has the rules that falls under this \"Threat Detection Category\" or not\r\n\r\nRef: https://cloud.google.com/armor/docs/threat-intelligence\r\n\r\nThanks\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "As of their recent changes, you should be able to create the Armor Polices in Standard Mode for free. ", "keywords": ["billing mode", "change"]}, {"source": "Text", "text": "You can check whether the policy that you created has the rules that falls under this \"Threat Detection Category\" or not Ref: https://cloud.google.com/armor/docs/threat-intelligence Thanks", "keywords": ["policy"]}]}], "filtered-sentences": [{"source": "Body", "text": "As of their recent changes, you should be able to create the Armor Polices in Standard Mode for free. ", "keywords": ["billing mode", "change"]}, {"source": "Body", "text": "You can check whether the policy that you created has the rules that falls under this \"Threat Detection Category\" or not Ref: https://cloud.google.com/armor/docs/threat-intelligence Thanks", "keywords": ["policy"]}]}, {"Id": "72623670", "PostTypeId": "2", "ParentId": "72592003", "CreationDate": "2022-06-14T21:40:03.993", "Score": "1", "Body": "<p>For new accounts without payment history, Google restricts access to some services. Cloud Armor is one of those services.</p>\n<p>The solution is either to wait until your account has paid several statements on time, or contact Google Cloud Sales to ask for an exception. In my experience, end users must wait, but businesses are approved.</p>\n", "OwnerUserId": "8016720", "LastActivityDate": "2022-06-14T21:40:03.993", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "272257543", "PostHistoryTypeId": "2", "PostId": "72623670", "RevisionGUID": "7e2d41bc-dbb2-4bd2-9557-3708524d64e2", "CreationDate": "2022-06-14T21:40:03.993", "UserId": "8016720", "Text": "For new accounts without payment history, Google restricts access to some services. Cloud Armor is one of those services.\r\n\r\nThe solution is either to wait until your account has paid several statements on time, or contact Google Cloud Sales to ask for an exception. In my experience, end users must wait, but businesses are approved.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "272257545", "PostHistoryTypeId": "33", "PostId": "72623670", "RevisionGUID": "233a62a2-4172-4c02-8218-e7d957443dff", "CreationDate": "2022-06-14T21:40:03.993", "UserId": "-1002", "Comment": "278010", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "How can I make it work. with security policies Quota , getting compute engine API service with security policy api getting compute engine API service And getting below message when I hover over both the services check box", "keywords": ["policy"]}]}