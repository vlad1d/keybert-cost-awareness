{"Id": "51679604", "PostTypeId": "1", "AcceptedAnswerId": "51681059", "CreationDate": "2018-08-03T20:19:44.027", "Score": "0", "ViewCount": "829", "Body": "<p>For bill tracking purpose, given we have other solutions on AWS,  we are asked to add a custom tag to all tagable resources created by Terraform AWS EKS, something like Tag key = \"platform\" tag value = \"k8s\". Practically a static tag that shows it is a kubernetes resource.</p>\n\n<p>We are modeling our solution after this guide:</p>\n\n<p><a href=\"https://github.com/terraform-providers/terraform-provider-aws/tree/master/examples/eks-getting-started\" rel=\"nofollow noreferrer\">https://github.com/terraform-providers/terraform-provider-aws/tree/master/examples/eks-getting-started</a></p>\n\n<p>It seems though as many resources on aws provider for eks on terraform do not provide the option for custom tags. </p>\n\n<p>Is there any way we can get a custom tag across the board?</p>\n\n<p>I'm still going through AWS EKS and Terraform AWS EKS guides but haven't been able that would help answer my question.</p>\n\n<p>Any direction is highly appreciated!</p>\n\n<p>Greg</p>\n", "OwnerUserId": "2362463", "LastActivityDate": "2018-08-03T23:10:13.843", "Title": "user custom tag for all aws resources created by terraform AWS EKS", "Tags": "<tags><terraform-provider-aws><amazon-eks>", "AnswerCount": "2", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "179052376", "PostHistoryTypeId": "2", "PostId": "51679604", "RevisionGUID": "c8f33802-1cdf-4996-893b-31fdd597afe1", "CreationDate": "2018-08-03T20:19:44.027", "UserId": "2362463", "Text": "For bill tracking purpose, given we have other solutions on AWS,  we are asked to add a custom tag to all tagable resources created by Terraform AWS EKS, something like Tag key = \"platform\" tag value = \"k8s\". Practically a static tag that shows it is a kubernetes resource.\r\n\r\nWe are modeling our solution after this guide:\r\n\r\nhttps://github.com/terraform-providers/terraform-provider-aws/tree/master/examples/eks-getting-started\r\n\r\nIt seems though as many resources on aws provider for eks on terraform do not provide the option for custom tags. \r\n\r\nIs there any way we can get a custom tag across the board?\r\n\r\nI'm still going through AWS EKS and Terraform AWS EKS guides but haven't been able that would help answer my question.\r\n\r\nAny direction is highly appreciated!\r\n\r\nGreg", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "For bill tracking purpose, given we have other solutions on AWS, we are asked to add a custom tag to all tagable resources created by Terraform AWS EKS, something like Tag key = \"platform\" tag value = \"k8s\". ", "keywords": ["bill"]}, {"source": "Text", "text": "We are modeling our solution after this guide: https://github.com/terraform-providers/terraform-provider-aws/tree/master/examples/eks-getting-started ", "keywords": ["provider"]}, {"source": "Text", "text": "It seems though as many resources on aws provider for eks on terraform do not provide the option for custom tags. ", "keywords": ["provider"]}]}, {"Id": "179052377", "PostHistoryTypeId": "1", "PostId": "51679604", "RevisionGUID": "c8f33802-1cdf-4996-893b-31fdd597afe1", "CreationDate": "2018-08-03T20:19:44.027", "UserId": "2362463", "Text": "user custom tag for all aws resources created by terraform AWS EKS", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "179052378", "PostHistoryTypeId": "3", "PostId": "51679604", "RevisionGUID": "c8f33802-1cdf-4996-893b-31fdd597afe1", "CreationDate": "2018-08-03T20:19:44.027", "UserId": "2362463", "Text": "<tags><terraform-provider-aws><amazon-eks>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "51680518", "PostTypeId": "2", "ParentId": "51679604", "CreationDate": "2018-08-03T21:55:39.647", "Score": "0", "Body": "<p>What kind of custom tags you're looking for? If in case a Static tag. Modify the below AWS provided lambda function according to your need and add a hard coded value (key:value pair) inside the lambda function.</p>\n\n<p>Look at this blog post, if you're looking for custom tags based on API calls.\n<a href=\"https://aws.amazon.com/blogs/security/how-to-automatically-tag-amazon-ec2-resources-in-response-to-api-events/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/security/how-to-automatically-tag-amazon-ec2-resources-in-response-to-api-events/</a></p>\n", "OwnerUserId": "7897193", "LastActivityDate": "2018-08-03T21:55:39.647", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "90325145", "PostId": "51680518", "Score": "0", "Text": "That's not what he asked. He wants to tag his cluster using TF.", "CreationDate": "2018-08-03T23:05:25.473", "UserId": "1495765", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "He wants to tag his cluster using TF.", "keywords": ["cluster"]}]}], "history": [{"Id": "179056246", "PostHistoryTypeId": "2", "PostId": "51680518", "RevisionGUID": "6dee17ec-8c61-4eaa-b3db-e00891177041", "CreationDate": "2018-08-03T21:55:39.647", "UserId": "7897193", "Text": "What kind of custom tags you're looking for? If in case a Static tag. Modify the below AWS provided lambda function according to your need and add a hard coded value (key:value pair) inside the lambda function.\r\n\r\nLook at this blog post, if you're looking for custom tags based on API calls.\r\nhttps://aws.amazon.com/blogs/security/how-to-automatically-tag-amazon-ec2-resources-in-response-to-api-events/", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}, {"Id": "51681059", "PostTypeId": "2", "ParentId": "51679604", "CreationDate": "2018-08-03T23:10:13.843", "Score": "2", "Body": "<p>Try here: <a href=\"https://github.com/terraform-aws-modules/terraform-aws-eks\" rel=\"nofollow noreferrer\">https://github.com/terraform-aws-modules/terraform-aws-eks</a></p>\n\n<p>Under the inputs of \"terraform-aws-eks\" you can find \"Tags\" - A map of tags to add to all resources.</p>\n\n<p>Good luck. </p>\n", "OwnerUserId": "1495765", "LastActivityDate": "2018-08-03T23:10:13.843", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "90470574", "PostId": "51681059", "Score": "0", "Text": "That seems to come closest to what I need.", "CreationDate": "2018-08-08T20:51:34.367", "UserId": "2362463", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "179058346", "PostHistoryTypeId": "2", "PostId": "51681059", "RevisionGUID": "7d25fd30-ed2d-47eb-b886-d96eb6be3e72", "CreationDate": "2018-08-03T23:10:13.843", "UserId": "1495765", "Text": "Try here: https://github.com/terraform-aws-modules/terraform-aws-eks\r\n\r\nUnder the inputs of \"terraform-aws-eks\" you can find \"Tags\" - A map of tags to add to all resources.\r\n\r\nGood luck. ", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "For bill tracking purpose, given we have other solutions on AWS, we are asked to add a custom tag to all tagable resources created by Terraform AWS EKS, something like Tag key = \"platform\" tag value = \"k8s\". ", "keywords": ["bill"]}, {"source": "Body", "text": "We are modeling our solution after this guide: https://github.com/terraform-providers/terraform-provider-aws/tree/master/examples/eks-getting-started ", "keywords": ["provider"]}, {"source": "Body", "text": "It seems though as many resources on aws provider for eks on terraform do not provide the option for custom tags. ", "keywords": ["provider"]}]}