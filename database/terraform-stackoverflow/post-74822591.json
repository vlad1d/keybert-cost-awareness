{"Id": "74822591", "PostTypeId": "1", "CreationDate": "2022-12-16T09:35:44.327", "Score": "-2", "ViewCount": "84", "Body": "<p>I am trying to create an AWS resource in 1000 AWS accounts using terraform. I can use provider meta-argument however then I have to define the provider block 1000 times. This approach in not efficient and scalable. Is there a better way?</p>\n", "OwnerUserId": "1283605", "LastActivityDate": "2022-12-16T10:01:25.043", "Title": "Create an AWS resource in 1000 AWS accounts using terraform provider meta-argument", "Tags": "<amazon-web-services><terraform><terraform-provider-aws>", "AnswerCount": "1", "CommentCount": "2", "ClosedDate": "2022-12-16T15:17:08.517", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "132048603", "PostId": "74822591", "Score": "2", "Text": "AWS Control Tower, AWS RAM, AWS Organizations.", "CreationDate": "2022-12-16T09:36:39.867", "UserId": "8343484", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "AWS Control Tower, AWS RAM, AWS Organizations.", "keywords": ["ram"]}]}, {"Id": "132049467", "PostId": "74822591", "Score": "0", "Text": "I don't think it vise to try to do this with one tf file. You will have one state file for 1000 accounts you should aim to have it account specific. You should use an orchestral deployment tool instead.", "CreationDate": "2022-12-16T10:24:56.733", "UserId": "14711735", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "284411088", "PostHistoryTypeId": "2", "PostId": "74822591", "RevisionGUID": "d1869575-55be-4fd3-a0e9-5098361f5358", "CreationDate": "2022-12-16T09:35:44.327", "UserId": "1283605", "Text": "I am trying to create an AWS resource in 1000 AWS accounts using terraform. I can use provider meta-argument however then I have to define the provider block 1000 times. This approach in not efficient and scalable. Is there a better way?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I can use provider meta-argument however then I have to define the provider block 1000 times. ", "keywords": ["provider"]}, {"source": "Text", "text": "This approach in not efficient and scalable. ", "keywords": ["efficient"]}]}, {"Id": "284411090", "PostHistoryTypeId": "1", "PostId": "74822591", "RevisionGUID": "d1869575-55be-4fd3-a0e9-5098361f5358", "CreationDate": "2022-12-16T09:35:44.327", "UserId": "1283605", "Text": "Create an AWS resource in 1000 AWS accounts using terraform provider meta-argument", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Create an AWS resource in 1000 AWS accounts using terraform provider meta-argument", "keywords": ["provider"]}]}, {"Id": "284411091", "PostHistoryTypeId": "3", "PostId": "74822591", "RevisionGUID": "d1869575-55be-4fd3-a0e9-5098361f5358", "CreationDate": "2022-12-16T09:35:44.327", "UserId": "1283605", "Text": "<amazon-web-services><terraform><terraform-provider-aws>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "284432383", "PostHistoryTypeId": "10", "PostId": "74822591", "RevisionGUID": "cad92f75-4212-456f-8ff5-49be37be77aa", "CreationDate": "2022-12-16T15:17:08.517", "UserId": "-1", "Comment": "105", "Text": "{\"Voters\":[{\"Id\":248823,\"DisplayName\":\"Marcin\"},{\"Id\":8343484,\"DisplayName\":\"Marko E\"},{\"Id\":2756409,\"DisplayName\":\"TylerH\"}]}", "filtered-sentences": []}], "answers": [{"Id": "74822791", "PostTypeId": "2", "ParentId": "74822591", "CreationDate": "2022-12-16T09:55:12.940", "Score": "2", "Body": "<p>Unfortunately terraform currently does not allow to create providers in child modules with for_each or count.</p>\n", "OwnerUserId": "13463174", "LastActivityDate": "2022-12-16T09:55:12.940", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "284412236", "PostHistoryTypeId": "2", "PostId": "74822791", "RevisionGUID": "2cc77f57-fe66-4d1d-b7a1-b39bbe2bdb7c", "CreationDate": "2022-12-16T09:55:12.940", "UserId": "13463174", "Text": "Unfortunately terraform currently does not allow to create providers in child modules with for_each or count.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Title", "text": "Create an AWS resource in 1000 AWS accounts using terraform provider meta-argument", "keywords": ["provider"]}, {"source": "Body", "text": "I can use provider meta-argument however then I have to define the provider block 1000 times. ", "keywords": ["provider"]}, {"source": "Body", "text": "This approach in not efficient and scalable. ", "keywords": ["efficient"]}]}