{"Id": "53067996", "PostTypeId": "1", "AcceptedAnswerId": "53069879", "CreationDate": "2018-10-30T15:40:45.003", "Score": "1", "ViewCount": "213", "Body": "<p>When I use autoscaling with launch configuration, detailed monitoring seems to be <strong>enabled</strong> by default.\nWhen I create EC2 instances directly using the <code>aws_instance</code> resource, detailed monitoring seems to be <strong>disabled</strong> by default.</p>\n\n<p>Is there a reason for this difference? If I do not need detailed monitoring (data being sent every 1 minute) for my application, can I safely set it to false in the launch configuration used by Autoscaling?</p>\n\n<p>I have read the following links but unable to find any additional information about the monitoring levels.</p>\n\n<p><a href=\"https://www.terraform.io/docs/providers/aws/r/launch_configuration.html#enable_monitoring\" rel=\"nofollow noreferrer\">https://www.terraform.io/docs/providers/aws/r/launch_configuration.html#enable_monitoring</a></p>\n\n<p><a href=\"https://www.terraform.io/docs/providers/aws/r/instance.html#monitoring\" rel=\"nofollow noreferrer\">https://www.terraform.io/docs/providers/aws/r/instance.html#monitoring</a></p>\n", "OwnerUserId": "10581311", "LastEditorUserId": "2291321", "LastEditDate": "2018-10-30T17:35:36.623", "LastActivityDate": "2018-10-30T17:35:36.623", "Title": "Terraform Autoscaling - Detailed monitoring turned on by default", "Tags": "<amazon-web-services><terraform><terraform-provider-aws>", "AnswerCount": "1", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "184833035", "PostHistoryTypeId": "2", "PostId": "53067996", "RevisionGUID": "ec59407d-0f48-4c81-a01b-9500d8bee7f4", "CreationDate": "2018-10-30T15:40:45.003", "UserId": "10581311", "Text": "Terraform version : v0.11.8\r\n\r\nWhen I use autoscaling with launch configuration, detailed monitoring seems to be **enabled** by default.\r\nWhen I create ec2 instances directly using aws_instance resource, detailed monitoring seems to be **disabled** by default.\r\n\r\nIs there a reason for this difference?..If I do not need detailed monitoring(data being sent every 1 minute) for my application, can I safely set it to false in the launch configuration used by Autoscaling?\r\n\r\nhttps://www.terraform.io/docs/providers/aws/r/launch_configuration.html#enable_monitoring\r\n\r\nhttps://www.terraform.io/docs/providers/aws/r/instance.html#monitoring\r\n\r\nI have read the below links but unable to find any additional information.\r\n ", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "https://www.terraform.io/docs/providers/aws/r/launch_configuration.html#enable_monitoring https://www.terraform.io/docs/providers/aws/r/instance.html#monitoring I have read the below links but unable to find any additional information.", "keywords": ["instance"]}]}, {"Id": "184833036", "PostHistoryTypeId": "1", "PostId": "53067996", "RevisionGUID": "ec59407d-0f48-4c81-a01b-9500d8bee7f4", "CreationDate": "2018-10-30T15:40:45.003", "UserId": "10581311", "Text": "Terraform Autoscaling - Detailed monitoring turned on by default", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "184833037", "PostHistoryTypeId": "3", "PostId": "53067996", "RevisionGUID": "ec59407d-0f48-4c81-a01b-9500d8bee7f4", "CreationDate": "2018-10-30T15:40:45.003", "UserId": "10581311", "Text": "<terraform>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "184840682", "PostHistoryTypeId": "5", "PostId": "53067996", "RevisionGUID": "6b63815a-eba5-4fa1-a264-c1b3d714e06f", "CreationDate": "2018-10-30T17:35:36.623", "UserId": "2291321", "Comment": "added 11 characters in body; edited tags", "Text": "When I use autoscaling with launch configuration, detailed monitoring seems to be **enabled** by default.\r\nWhen I create EC2 instances directly using the `aws_instance` resource, detailed monitoring seems to be **disabled** by default.\r\n\r\nIs there a reason for this difference? If I do not need detailed monitoring (data being sent every 1 minute) for my application, can I safely set it to false in the launch configuration used by Autoscaling?\r\n\r\nI have read the following links but unable to find any additional information about the monitoring levels.\r\n\r\nhttps://www.terraform.io/docs/providers/aws/r/launch_configuration.html#enable_monitoring\r\n\r\nhttps://www.terraform.io/docs/providers/aws/r/instance.html#monitoring\r\n\r\n\r\n ", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "https://www.terraform.io/docs/providers/aws/r/launch_configuration.html#enable_monitoring https://www.terraform.io/docs/providers/aws/r/instance.html#monitoring", "keywords": ["instance"]}]}, {"Id": "184840683", "PostHistoryTypeId": "6", "PostId": "53067996", "RevisionGUID": "6b63815a-eba5-4fa1-a264-c1b3d714e06f", "CreationDate": "2018-10-30T17:35:36.623", "UserId": "2291321", "Comment": "added 11 characters in body; edited tags", "Text": "<amazon-web-services><terraform><terraform-provider-aws>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "53069879", "PostTypeId": "2", "ParentId": "53067996", "CreationDate": "2018-10-30T17:34:26.450", "Score": "0", "Body": "<p>This is just an AWS API thing as mentioned in the <a href=\"https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-instance-monitoring.html#enable-as-instance-metrics\" rel=\"nofollow noreferrer\">AWS User Guide</a>:</p>\n\n<blockquote>\n  <p>By default, basic monitoring is enabled when you create a launch configuration using the AWS Management Console and detailed monitoring is enabled when you create a launch configuration using the AWS CLI or an API.</p>\n</blockquote>\n", "OwnerUserId": "2291321", "LastActivityDate": "2018-10-30T17:34:26.450", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "93060852", "PostId": "53069879", "Score": "0", "Text": "Thanks for the link in AWS User Guide. Detailed monitoring do have a cost (around $2.10 for each instance). We did not know that we had enabled detailed monitoring in our dev/test envs by using autoscaling/launchconfiguration with terraform! I don't know why AWS API does that. We think basic monitoring would be sufficient for our needs and so we will disable detailed monitoring.", "CreationDate": "2018-10-31T11:11:08.437", "UserId": "10581311", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Detailed monitoring do have a cost (around $2.10 for each instance). ", "keywords": ["cost", "instance"]}, {"source": "Text", "text": "We did not know that we had enabled detailed monitoring in our dev/test envs by using autoscaling/launchconfiguration with terraform! ", "keywords": ["test"]}]}, {"Id": "93068560", "PostId": "53069879", "Score": "0", "Text": "If you found that this answer solved your problem then it would help others if you [accepted](https://stackoverflow.com/help/someone-answers) it so that people know that this solution at least worked for you. You will also receive 2 reputation for accepting an answer.", "CreationDate": "2018-10-31T14:36:47.107", "UserId": "2291321", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "184840642", "PostHistoryTypeId": "2", "PostId": "53069879", "RevisionGUID": "f4009349-f7e8-4442-8281-0c190cee99e1", "CreationDate": "2018-10-30T17:34:26.450", "UserId": "2291321", "Text": "This is just an AWS API thing as mentioned in the [AWS User Guide][1]:\r\n\r\n> By default, basic monitoring is enabled when you create a launch configuration using the AWS Management Console and detailed monitoring is enabled when you create a launch configuration using the AWS CLI or an API.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-instance-monitoring.html#enable-as-instance-metrics", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "This is just an AWS API thing as mentioned in the [AWS User Guide][1]: > By default, basic monitoring is enabled when you create a launch configuration using the AWS Management Console and detailed monitoring is enabled when you create a launch configuration using the AWS CLI or an API. [1]: https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-instance-monitoring.html#enable-as-instance-metrics", "keywords": ["instance"]}]}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "https://www.terraform.io/docs/providers/aws/r/launch_configuration.html#enable_monitoring https://www.terraform.io/docs/providers/aws/r/instance.html#monitoring", "keywords": ["instance"]}]}