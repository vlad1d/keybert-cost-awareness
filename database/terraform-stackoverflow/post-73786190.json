{"Id": "73786190", "PostTypeId": "1", "AcceptedAnswerId": "73788842", "CreationDate": "2022-09-20T11:46:50.050", "Score": "0", "ViewCount": "932", "Body": "<p>We're using an SQS in AWS to trigger a specific support Lambda that we have. Everything works or so, but in this case I'd like to make sure the batch size is 1 on the SQS.</p>\n<p>I've <a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/sqs_queue\" rel=\"nofollow noreferrer\">read on this official terraform</a> doc and cannot find anything about the batch size. I've also read <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html\" rel=\"nofollow noreferrer\">this official AWS article on SQS</a> tips but they do mention batch sizes, but not how to change them.</p>\n<p>Is there any way to set the batch size to, let's say 1? I know this can have consequences in terms of execution time and cost, but in this particular case that does not matter for us.</p>\n", "OwnerUserId": "2874896", "LastActivityDate": "2022-09-20T15:03:15.820", "Title": "How to set SQS batch size to 1 in Terraform?", "Tags": "<terraform><amazon-sqs>", "AnswerCount": "1", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "278581963", "PostHistoryTypeId": "2", "PostId": "73786190", "RevisionGUID": "6f895087-dd9d-44a2-aa15-b8ebd3beb662", "CreationDate": "2022-09-20T11:46:50.050", "UserId": "2874896", "Text": "We're using an SQS in AWS to trigger a specific support Lambda that we have. Everything works or so, but in this case I'd like to make sure the batch size is 1 on the SQS.\r\n\r\nI've [read on this official terraform][1] doc and cannot find anything about the batch size. I've also read [this official AWS article on SQS][2] tips but they do mention batch sizes, but not how to change them.\r\n\r\nIs there any way to set the batch size to, let's say 1? I know this can have consequences in terms of execution time and cost, but in this particular case that does not matter for us. \r\n\r\n\r\n  [1]: https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/sqs_queue\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I've also read [this official AWS article on SQS][2] tips but they do mention batch sizes, but not how to change them. ", "keywords": ["change"]}, {"source": "Text", "text": "I know this can have consequences in terms of execution time and cost, but in this particular case that does not matter for us. [1]: https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/sqs_queue [2]: https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html", "keywords": ["cost"]}]}, {"Id": "278581965", "PostHistoryTypeId": "1", "PostId": "73786190", "RevisionGUID": "6f895087-dd9d-44a2-aa15-b8ebd3beb662", "CreationDate": "2022-09-20T11:46:50.050", "UserId": "2874896", "Text": "How to set SQS batch size to 1 in Terraform?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "278581966", "PostHistoryTypeId": "3", "PostId": "73786190", "RevisionGUID": "6f895087-dd9d-44a2-aa15-b8ebd3beb662", "CreationDate": "2022-09-20T11:46:50.050", "UserId": "2874896", "Text": "<terraform><amazon-sqs>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "73788842", "PostTypeId": "2", "ParentId": "73786190", "CreationDate": "2022-09-20T15:03:15.820", "Score": "1", "Body": "<p>It is set on the <a href=\"https://registry.terraform.io/providers/hashicorp%20%20/aws/latest/docs/resources/lambda_event_source_mapping\" rel=\"nofollow noreferrer\">AWS Lambda event source mapping</a>, the thing that connects SQS and Lambda:</p>\n<pre><code>resource &quot;aws_lambda_event_source_mapping&quot; &quot;example&quot; {\n  event_source_arn = aws_sqs_queue.sqs_queue_test.arn\n  function_name    = aws_lambda_function.example.arn\n  batch_size       = 1\n}\n</code></pre>\n", "OwnerUserId": "13070", "LastActivityDate": "2022-09-20T15:03:15.820", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "278596162", "PostHistoryTypeId": "2", "PostId": "73788842", "RevisionGUID": "800c8722-cefe-4c11-8b92-1726a961baaf", "CreationDate": "2022-09-20T15:03:15.820", "UserId": "13070", "Text": "It is set on the [AWS Lambda event source mapping][1], the thing that connects SQS and Lambda:\r\n\r\n```\r\nresource \"aws_lambda_event_source_mapping\" \"example\" {\r\n  event_source_arn = aws_sqs_queue.sqs_queue_test.arn\r\n  function_name    = aws_lambda_function.example.arn\r\n  batch_size       = 1\r\n}\r\n```\r\n\r\n\r\n  [1]: https://registry.terraform.io/providers/hashicorp%20%20/aws/latest/docs/resources/lambda_event_source_mapping", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "I've also read this official AWS article on SQS tips but they do mention batch sizes, but not how to change them. ", "keywords": ["change"]}, {"source": "Body", "text": "I know this can have consequences in terms of execution time and cost, but in this particular case that does not matter for us.", "keywords": ["cost"]}]}