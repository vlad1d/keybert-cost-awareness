{"Id": "66639809", "PostTypeId": "1", "CreationDate": "2021-03-15T14:24:43.103", "Score": "0", "ViewCount": "193", "Body": "<p>I want to set up an API Gateway which will serve as a proxy for putting items into a DynamoDB table. One of the biggest problems here is that the JSON is not uniform (that is, there may be more/less fields on any given request). This makes mapping the fields in the integration request difficult.</p>\n<p>Is there a way to just push the entire body of the JSON request to the DynamoDB from API Gateway using Terraform? There will always be a partition key so this isn't a problem.</p>\n", "OwnerUserId": "5095638", "LastActivityDate": "2021-03-15T14:24:43.103", "Title": "API Gateway Proxy for DynamoDB using Terraform?", "Tags": "<amazon-web-services><amazon-dynamodb><terraform>", "AnswerCount": "0", "CommentCount": "3", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "117815152", "PostId": "66639809", "Score": "0", "Text": "Why not proxy through lambda? This gives you much more flexibility on parsing these random json objects of yours.", "CreationDate": "2021-03-15T23:13:52.137", "UserId": "248823", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "117816720", "PostId": "66639809", "Score": "0", "Text": "@Marcin I thought if API Gateway could handle it, it would work out cheaper and more efficient. I've not got much experience with AWS or serverless in general however, so I'm open to using Lambda instead if it outweighs the use of pure API Gateway. Similarly if it makes sense to just ping the DynamoDB straight from the java application code I'd be open to this too, but I'd lose Authorisation/Authentication presumably.", "CreationDate": "2021-03-16T01:26:32.940", "UserId": "5095638", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I thought if API Gateway could handle it, it would work out cheaper and more efficient. ", "keywords": ["cheap", "efficient"]}]}, {"Id": "117816783", "PostId": "66639809", "Score": "0", "Text": "Maybe it can. Your question is very generic, without any examples, code samples, or errors. But lambda could maybe be easier to program.", "CreationDate": "2021-03-16T01:31:32.067", "UserId": "248823", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "242712042", "PostHistoryTypeId": "2", "PostId": "66639809", "RevisionGUID": "e33a18ac-efc4-4713-8b64-79bebe0c8b39", "CreationDate": "2021-03-15T14:24:43.103", "UserId": "5095638", "Text": "I want to set up an API Gateway which will serve as a proxy for putting items into a DynamoDB table. One of the biggest problems here is that the JSON is not uniform (that is, there may be more/less fields on any given request). This makes mapping the fields in the integration request difficult. \r\n\r\nIs there a way to just push the entire body of the JSON request to the DynamoDB from API Gateway using Terraform? There will always be a partition key so this isn't a problem. ", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "242712043", "PostHistoryTypeId": "1", "PostId": "66639809", "RevisionGUID": "e33a18ac-efc4-4713-8b64-79bebe0c8b39", "CreationDate": "2021-03-15T14:24:43.103", "UserId": "5095638", "Text": "API Gateway Proxy for DynamoDB using Terraform?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "242712044", "PostHistoryTypeId": "3", "PostId": "66639809", "RevisionGUID": "e33a18ac-efc4-4713-8b64-79bebe0c8b39", "CreationDate": "2021-03-15T14:24:43.103", "UserId": "5095638", "Text": "<amazon-web-services><amazon-dynamodb><terraform>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "contains-topic": false, "filtered-sentences": []}