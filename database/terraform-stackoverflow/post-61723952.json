{"Id": "61723952", "PostTypeId": "1", "CreationDate": "2020-05-11T07:00:34.303", "Score": "0", "ViewCount": "1288", "Body": "<pre><code>module \"vpc\" {\n  source             = \"terraform-aws-modules/vpc/aws\"\n  version            = \"2.33.0\"\n  name               = \"${local.env_name}-vpc\"\n  public_subnets     = data.template_file.public_cidrsubnet[*].rendered\n  private_subnets    = data.template_file.private_cidrsubnet[*].rendered\n\ntags = merge(local.common_tags, { Name = \"${local.env_name}-vpc\" })\n</code></pre>\n\n<p>Creating is successful but only problem is tagging, for all the newly created using module vpc  tag is \"default-vpc\"</p>\n\n<p>I wanted to tag each resource separately, like private-subnet, public-subnet etc.</p>\n", "OwnerUserId": "2809381", "LastActivityDate": "2023-01-31T09:15:56.643", "Title": "How to tag subnets when using module vpc", "Tags": "<terraform><terraform-provider-aws><terraform-template-file><terraform0.12+>", "AnswerCount": "2", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "109181658", "PostId": "61723952", "Score": "0", "Text": "Can you provide the local file as well", "CreationDate": "2020-05-11T08:20:33.327", "UserId": "7980157", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "109185780", "PostId": "61723952", "Score": "0", "Text": "in local it have just some billing tags and environment type as dev", "CreationDate": "2020-05-11T10:35:47.867", "UserId": "2809381", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "in local it have just some billing tags and environment type as dev", "keywords": ["bill"]}]}], "history": [{"Id": "221332020", "PostHistoryTypeId": "2", "PostId": "61723952", "RevisionGUID": "77bf7e35-01b8-4078-a86d-e429a8ca61ec", "CreationDate": "2020-05-11T07:00:34.303", "UserId": "2809381", "Text": "```\r\nmodule \"vpc\" {\r\n  source             = \"terraform-aws-modules/vpc/aws\"\r\n  version            = \"2.33.0\"\r\n  name               = \"${local.env_name}-vpc\"\r\n  public_subnets     = data.template_file.public_cidrsubnet[*].rendered\r\n  private_subnets    = data.template_file.private_cidrsubnet[*].rendered\r\n\r\ntags = merge(local.common_tags, { Name = \"${local.env_name}-vpc\" })\r\n```\r\nCreating is successful but only problem is tagging, for all the newly created using module vpc  tag is \"default-vpc\"\r\n\r\nI wanted to tag each resource separately, like private-subnet, public-subnet etc.\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "221332021", "PostHistoryTypeId": "1", "PostId": "61723952", "RevisionGUID": "77bf7e35-01b8-4078-a86d-e429a8ca61ec", "CreationDate": "2020-05-11T07:00:34.303", "UserId": "2809381", "Text": "How to tag subnets when using module vpc", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "221332022", "PostHistoryTypeId": "3", "PostId": "61723952", "RevisionGUID": "77bf7e35-01b8-4078-a86d-e429a8ca61ec", "CreationDate": "2020-05-11T07:00:34.303", "UserId": "2809381", "Text": "<terraform><terraform-provider-aws><terraform-template-file><terraform0.12+>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "64163545", "PostTypeId": "2", "ParentId": "61723952", "CreationDate": "2020-10-01T21:37:47.483", "Score": "0", "Body": "<p>Create the subnet separately and assign it to the vpc</p>\n<pre><code>resource &quot;aws_subnet&quot; &quot;main&quot; {\n    vpc_id     = module.vpc.vpc_id\n    cidr_block = &quot;10.0.1.0/24&quot;\n    tags = {\n        Name = &quot;Main&quot;\n    }\n}\n</code></pre>\n", "OwnerUserId": "11682660", "LastActivityDate": "2020-10-01T21:37:47.483", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "231976771", "PostHistoryTypeId": "2", "PostId": "64163545", "RevisionGUID": "b82c40bf-e89f-449a-bb45-99667b4b8d54", "CreationDate": "2020-10-01T21:37:47.483", "UserId": "11682660", "Text": "Create the subnet separately and assign it to the vpc\r\n\r\n    resource \"aws_subnet\" \"main\" {\r\n        vpc_id     = module.vpc.vpc_id\r\n        cidr_block = \"10.0.1.0/24\"\r\n        tags = {\r\n            Name = \"Main\"\r\n        }\r\n    }\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}, {"Id": "75294897", "PostTypeId": "2", "ParentId": "61723952", "CreationDate": "2023-01-31T09:15:56.643", "Score": "1", "Body": "<p>In case anyone else stumbles upon this question. It is now possible to supply <code>public_subnet_tags</code> as noted in the <a href=\"https://registry.terraform.io/modules/terraform-aws-modules/vpc/aws/latest\" rel=\"nofollow noreferrer\">documentation for VPC in Terraform</a>.</p>\n", "OwnerUserId": "99209", "LastActivityDate": "2023-01-31T09:15:56.643", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "287158358", "PostHistoryTypeId": "2", "PostId": "75294897", "RevisionGUID": "5d3e2ec3-5fcb-4c0f-9b9d-d63dd080e4b7", "CreationDate": "2023-01-31T09:15:56.643", "UserId": "99209", "Text": "In case anyone else stumbles upon this question. It is now possible to supply `public_subnet_tags` as noted in the [documentation for VPC in Terraform](https://registry.terraform.io/modules/terraform-aws-modules/vpc/aws/latest).", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}], "contains-topic": true, "filtered-sentences": []}