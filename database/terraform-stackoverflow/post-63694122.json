{"Id": "63694122", "PostTypeId": "1", "CreationDate": "2020-09-01T19:21:16.310", "Score": "0", "ViewCount": "2111", "Body": "<p>I am trying to create a windows VM in Azure using Terraform. However, I can't seem to find any documentation on how to create the VM as a reserved instance for a 1 or 3 year plan.</p>\n<p>Does anyone know if this is even doable with Terraform?</p>\n", "OwnerUserId": "11651888", "LastEditorUserId": "781754", "LastEditDate": "2020-09-01T19:56:29.640", "LastActivityDate": "2022-06-20T12:46:05.843", "Title": "Terraform Reserved VM Instances on Azure", "Tags": "<azure><terraform><terraform-provider-azure>", "AnswerCount": "2", "CommentCount": "0", "ClosedDate": "2022-06-20T13:51:02.273", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "229968333", "PostHistoryTypeId": "2", "PostId": "63694122", "RevisionGUID": "9ae90c94-a9a9-491b-980b-efd828e6e4cb", "CreationDate": "2020-09-01T19:21:16.310", "UserId": "11651888", "Text": "I am trying to create a windows VM in Azure using Terraform. However, I can't seem to find any documentation on how to create the VM as a reserved instance for a 1 or 3 year plan. \r\n\r\nDoes anyone know if this is even doable with Terraform?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "However, I can't seem to find any documentation on how to create the VM as a reserved instance for a 1 or 3 year plan. ", "keywords": ["instance"]}]}, {"Id": "229968334", "PostHistoryTypeId": "1", "PostId": "63694122", "RevisionGUID": "9ae90c94-a9a9-491b-980b-efd828e6e4cb", "CreationDate": "2020-09-01T19:21:16.310", "UserId": "11651888", "Text": "Terraform Reserved VM Instances on Azure", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "229968335", "PostHistoryTypeId": "3", "PostId": "63694122", "RevisionGUID": "9ae90c94-a9a9-491b-980b-efd828e6e4cb", "CreationDate": "2020-09-01T19:21:16.310", "UserId": "11651888", "Text": "<azure><azure-devops><terraform><terraform-provider-azure>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "229970180", "PostHistoryTypeId": "6", "PostId": "63694122", "RevisionGUID": "a60676c5-e045-4f90-ac51-360c708501cd", "CreationDate": "2020-09-01T19:56:29.640", "UserId": "781754", "Comment": "edited tags", "Text": "<azure><terraform><terraform-provider-azure>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "272612841", "PostHistoryTypeId": "10", "PostId": "63694122", "RevisionGUID": "c3a57123-bae2-42dd-8ef3-5b08a359edc0", "CreationDate": "2022-06-20T13:51:02.273", "UserId": "-1", "Comment": "102", "Text": "{\"Voters\":[{\"Id\":2756409,\"DisplayName\":\"TylerH\"},{\"Id\":4826457,\"DisplayName\":\"Suraj Rao\"},{\"Id\":1940850,\"DisplayName\":\"karel\"}],\"SiteSpecificCloseReasonIds\":[7]}", "filtered-sentences": []}], "answers": [{"Id": "72261768", "PostTypeId": "2", "ParentId": "63694122", "CreationDate": "2022-05-16T15:32:00.807", "Score": "0", "Body": "<p>I'm not an expert of azure and terraform but as far as i can see reservation are linked to subscription or to a resource group, so maybe you could configure it after resource creation</p>\n", "OwnerUserId": "5111464", "LastActivityDate": "2022-05-16T15:32:00.807", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "127685900", "PostId": "72261768", "Score": "0", "Text": "Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).", "CreationDate": "2022-05-17T11:31:50.067", "UserId": "-1", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "270270376", "PostHistoryTypeId": "2", "PostId": "72261768", "RevisionGUID": "0d28c881-8ae8-4ead-bca9-30a8f889efa8", "CreationDate": "2022-05-16T15:32:00.807", "UserId": "5111464", "Text": "I'm not an expert of azure and terraform but as far as i can see reservation are linked to subscription or to a resource group, so maybe you could configure it after resource creation", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "filtered-sentences": []}, {"Id": "63694462", "PostTypeId": "2", "ParentId": "63694122", "CreationDate": "2020-09-01T19:46:06.783", "Score": "3", "Body": "<p>Azure Reserved instances are applied through billing.  There isn't a technical mechanism for selecting a reserved instance.  It is easily confused for how AWS applies reserved instances.</p>\n<p>On the surface it is fairly simply, you pay for a reservation and it gets applied.</p>\n<blockquote>\n<p>After you buy an Azure Reserved Virtual Machine Instance, the\nreservation discount is automatically applied to virtual machines that\nmatch the attributes and quantity of the reservation. A reservation\ncovers the compute costs of your virtual machines.</p>\n</blockquote>\n<p>But it can get fairly nuanced as you <a href=\"https://azure.microsoft.com/en-us/pricing/reserved-vm-instances/\" rel=\"nofollow noreferrer\">read</a> through the <a href=\"https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/understand-vm-reservation-charges?toc=/azure/cost-management-billing/reservations/toc.json\" rel=\"nofollow noreferrer\">documentation</a></p>\n", "OwnerUserId": "3665058", "LastActivityDate": "2020-09-01T19:46:06.783", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "112648172", "PostId": "63694462", "Score": "0", "Text": "My final sentence seems snarky, but I didn't intend snark.  Just linking to the docs, and didn't want to try and rewrite what was written.  And with all things cloud it changes from time to time.", "CreationDate": "2020-09-02T10:07:36.060", "UserId": "3665058", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "And with all things cloud it changes from time to time.", "keywords": ["change"]}]}], "history": [{"Id": "229969641", "PostHistoryTypeId": "2", "PostId": "63694462", "RevisionGUID": "65f38774-2fc6-4487-a0b1-e40c8b9073e4", "CreationDate": "2020-09-01T19:46:06.783", "UserId": "3665058", "Text": "Azure Reserved instances are applied through billing.  There isn't a technical mechanism for selecting a reserved instance.  It is easily confused for how AWS applies reserved instances.\r\n\r\nOn the surface it is fairly simply, you pay for a reservation and it gets applied. \r\n\r\n> After you buy an Azure Reserved Virtual Machine Instance, the\r\n> reservation discount is automatically applied to virtual machines that\r\n> match the attributes and quantity of the reservation. A reservation\r\n> covers the compute costs of your virtual machines.\r\n\r\nBut it can get fairly nuanced as you [read][1] through the [documentation][2] \r\n\r\n\r\n  [1]: https://azure.microsoft.com/en-us/pricing/reserved-vm-instances/\r\n  [2]: https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/understand-vm-reservation-charges?toc=/azure/cost-management-billing/reservations/toc.json", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Azure Reserved instances are applied through billing. ", "keywords": ["bill"]}, {"source": "Text", "text": "There isn't a technical mechanism for selecting a reserved instance. ", "keywords": ["instance"]}, {"source": "Text", "text": "On the surface it is fairly simply, you pay for a reservation and it gets applied. ", "keywords": ["pay"]}, {"source": "Text", "text": "> After you buy an Azure Reserved Virtual Machine Instance, the > reservation discount is automatically applied to virtual machines that > match the attributes and quantity of the reservation. ", "keywords": ["instance"]}, {"source": "Text", "text": "But it can get fairly nuanced as you [read][1] through the [documentation][2] [1]: https://azure.microsoft.com/en-us/pricing/reserved-vm-instances/ [2]: https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/understand-vm-reservation-charges?toc=/azure/cost-management-billing/reservations/toc.json", "keywords": ["bill", "cost"]}]}], "filtered-sentences": [{"source": "Body", "text": "Reserved instances are applied through billing. ", "keywords": ["bill"]}, {"source": "Body", "text": "There isn't a technical mechanism for selecting a reserved instance. ", "keywords": ["instance"]}, {"source": "Body", "text": "On the surface it is fairly simply, you pay for a reservation and it gets applied. ", "keywords": ["pay"]}, {"source": "Body", "text": "After you buy an Azure Reserved Virtual Machine Instance, the reservation discount is automatically applied to virtual machines that match the attributes and quantity of the reservation. ", "keywords": ["instance"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "However, I can't seem to find any documentation on how to create the VM as a reserved instance for a 1 or 3 year plan. ", "keywords": ["instance"]}]}