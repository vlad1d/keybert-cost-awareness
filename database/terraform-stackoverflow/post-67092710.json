{"Id": "67092710", "PostTypeId": "1", "AcceptedAnswerId": "67365792", "CreationDate": "2021-04-14T13:25:39.377", "Score": "1", "ViewCount": "944", "Body": "<p>I am using Terraform to build a configuration to create a GCP project with all required infrastructure, which will be used to create non-production environments on a feature-by-feature basis.</p>\n<p>I have reached a quota constraint for the limit BACKEND-SERVICES-per-project, which is set to 9 by default but we need 19.  Manually requesting an increase through the GCP console form is fulfilled almost immediately however I want to run this as part of an automated pipeline.</p>\n<p>Is there a way to request a quota increase at the organization or folder level which will then be applied to all new projects under that scope?</p>\n", "OwnerUserId": "15635544", "LastActivityDate": "2021-05-03T08:30:32.773", "Title": "Can I set a Google Cloud Platform project quota at the organization or folder level?", "Tags": "<google-cloud-platform><continuous-deployment><quota><terraform-provider-gcp>", "AnswerCount": "2", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "244649450", "PostHistoryTypeId": "2", "PostId": "67092710", "RevisionGUID": "5d021cad-2084-43f6-807c-0e9f78fb9371", "CreationDate": "2021-04-14T13:25:39.377", "UserId": "15635544", "Text": "I am using Terraform to build a configuration to create a GCP project with all required infrastructure, which will be used to create non-production environments on a feature-by-feature basis.\r\n\r\nI have reached a quota constraint for the limit BACKEND-SERVICES-per-project, which is set to 9 by default but we need 19.  Manually requesting an increase through the GCP console form is fulfilled almost immediately however I want to run this as part of an automated pipeline.\r\n\r\nIs there a way to request a quota increase at the organization or folder level which will then be applied to all new projects under that scope?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I am using Terraform to build a configuration to create a GCP project with all required infrastructure, which will be used to create non-production environments on a feature-by-feature basis. ", "keywords": ["feature"]}]}, {"Id": "244649451", "PostHistoryTypeId": "1", "PostId": "67092710", "RevisionGUID": "5d021cad-2084-43f6-807c-0e9f78fb9371", "CreationDate": "2021-04-14T13:25:39.377", "UserId": "15635544", "Text": "Can I set a Google Cloud Platform project quota at the organization or folder level?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "244649452", "PostHistoryTypeId": "3", "PostId": "67092710", "RevisionGUID": "5d021cad-2084-43f6-807c-0e9f78fb9371", "CreationDate": "2021-04-14T13:25:39.377", "UserId": "15635544", "Text": "<google-cloud-platform><continuous-deployment><quota><terraform-provider-gcp>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "67097191", "PostTypeId": "2", "ParentId": "67092710", "CreationDate": "2021-04-14T18:29:12.300", "Score": "2", "Body": "<p><strong>Unfortunately, you're not able to set project quota at the organization or folder level.</strong></p>\n<p>Please have a look at the documentation <a href=\"https://cloud.google.com/docs/quota\" rel=\"nofollow noreferrer\">Working with quotas</a>:</p>\n<blockquote>\n<p><strong>Google Cloud enforces quotas</strong> on resource usage for project owners, setting a limit on <strong>how much of a particular Google Cloud resource your project can use</strong>.</p>\n</blockquote>\n<p>furthermore, at the section <a href=\"https://cloud.google.com/docs/quota#managing_your_quota\" rel=\"nofollow noreferrer\">Managing your quota using the Cloud Console</a>:</p>\n<blockquote>\n<p>Depending on your resource usage, you may want to <strong>adjust your project's quota</strong> limits up or down.</p>\n</blockquote>\n<p>All of your <a href=\"https://cloud.google.com/billing/docs/concepts#resource_overview\" rel=\"nofollow noreferrer\">resources</a> belongs to your <a href=\"https://cloud.google.com/billing/docs/concepts#projects\" rel=\"nofollow noreferrer\">projects</a> and you can link them to your <a href=\"https://cloud.google.com/billing/docs/how-to/manage-billing-account\" rel=\"nofollow noreferrer\">billing</a> account only at the project level only. So, it should be  expected that you can change quotas at the project level only.</p>\n<p>You can try to change this behavior by filing a <a href=\"https://cloud.google.com/support/docs/issue-trackers#feature_requests\" rel=\"nofollow noreferrer\">feature request</a> at the Google Public Issue Tracker.</p>\n", "OwnerUserId": "12428794", "LastActivityDate": "2021-04-14T18:29:12.300", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "118600168", "PostId": "67097191", "Score": "1", "Text": "You can also automate Quota with Terraform to an automatic use at project creation.", "CreationDate": "2021-04-14T18:31:33.190", "UserId": "11372593", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "118614847", "PostId": "67097191", "Score": "0", "Text": "Serhii - thanks for the answer, that was my assessment too from reading the docs.\n\nGuillaume - appreciate the answer but I believe you're talking about the `google_service_usage_consumer_quota_override` resource which only allows you to set a quota override within the existing constraints.  For example, my current BACKEND_SERVICES-per-project quota is 9, so a valid override would be a number between 0 and 9.  If you're talking about some other resource, then I'd be keen to hear more :-)", "CreationDate": "2021-04-15T09:10:12.560", "UserId": "15635544", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "244668082", "PostHistoryTypeId": "2", "PostId": "67097191", "RevisionGUID": "40aedfb8-5dc9-4e00-9fab-b47d474c7efb", "CreationDate": "2021-04-14T18:29:12.300", "UserId": "12428794", "Text": "**Unfortunately, you're not able to set project quota at the organization or folder level.**\r\n\r\nPlease have a look at the documentation [Working with quotas][1]:\r\n\r\n> **Google Cloud enforces quotas** on resource usage for project owners, setting a limit on **how much of a particular Google Cloud resource your project can use**.\r\n\r\nfurthermore, at the section [Managing your quota using the Cloud Console][2]:\r\n\r\n> Depending on your resource usage, you may want to **adjust your project's quota** limits up or down.\r\n\r\nAll of your [resources][3] belongs to your [projects][4] and you can link them to your [billing][5] account only at the project level only. So, it should be  expected that you can change quotas at the project level only.\r\n \r\nYou can try to change this behavior by filing a [feature request][6] at the Google Public Issue Tracker.\r\n\r\n\r\n  [1]: https://cloud.google.com/docs/quota\r\n  [2]: https://cloud.google.com/docs/quota#managing_your_quota\r\n  [3]: https://cloud.google.com/billing/docs/concepts#resource_overview\r\n  [4]: https://cloud.google.com/billing/docs/concepts#projects\r\n  [5]: https://cloud.google.com/billing/docs/how-to/manage-billing-account\r\n  [6]: https://cloud.google.com/support/docs/issue-trackers#feature_requests", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "All of your [resources][3] belongs to your [projects][4] and you can link them to your [billing][5] account only at the project level only. ", "keywords": ["bill"]}, {"source": "Text", "text": "So, it should be expected that you can change quotas at the project level only. ", "keywords": ["change"]}, {"source": "Text", "text": "You can try to change this behavior by filing a [feature request][6] at the Google Public Issue Tracker. [1]: https://cloud.google.com/docs/quota [2]: https://cloud.google.com/docs/quota#managing_your_quota [3]: https://cloud.google.com/billing/docs/concepts#resource_overview [4]: https://cloud.google.com/billing/docs/concepts#projects [5]: https://cloud.google.com/billing/docs/how-to/manage-billing-account [6]: https://cloud.google.com/support/docs/issue-trackers#feature_requests", "keywords": ["bill", "feature", "change"]}]}], "filtered-sentences": [{"source": "Body", "text": "All of your resources belongs to your projects and you can link them to your billing account only at the project level only. ", "keywords": ["bill"]}, {"source": "Body", "text": "So, it should be expected that you can change quotas at the project level only. ", "keywords": ["change"]}, {"source": "Body", "text": "You can try to change this behavior by filing a feature request at the Google Public Issue Tracker.", "keywords": ["feature", "change"]}]}, {"Id": "67365792", "PostTypeId": "2", "ParentId": "67092710", "CreationDate": "2021-05-03T08:30:32.773", "Score": "1", "Body": "<p>After contacting Google support with this question, we had the following answer:</p>\n<blockquote>\n<p>Currently there is no process to increase the quota on the Organization/Folder level, neither is there anything that we can offer to override this &quot;quota&quot;.\nThe only possible solution that I can recommend right now would be for you to request a quota increase on the new projects manually.</p>\n</blockquote>\n<p>To anyone with the same use-case, we created a pool of projects under a folder for which we manually requested (and were granted) the increase.  We then used these projects as containers for the Terraform resources required to run the platform.  This way, whenever we need a new feature environment, we provision the Terraform configuration and deploy the code to an available project from the pool.  When the branch is merged, we <code>terraform destroy</code> the resources.</p>\n", "OwnerUserId": "15635544", "LastActivityDate": "2021-05-03T08:30:32.773", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "245857179", "PostHistoryTypeId": "2", "PostId": "67365792", "RevisionGUID": "598565c3-fba3-45ac-9524-46d0a5b0402a", "CreationDate": "2021-05-03T08:30:32.773", "UserId": "15635544", "Text": "After contacting Google support with this question, we had the following answer:\r\n\r\n> Currently there is no process to increase the quota on the Organization/Folder level, neither is there anything that we can offer to override this \"quota\".\r\nThe only possible solution that I can recommend right now would be for you to request a quota increase on the new projects manually.\r\n\r\nTo anyone with the same use-case, we created a pool of projects under a folder for which we manually requested (and were granted) the increase.  We then used these projects as containers for the Terraform resources required to run the platform.  This way, whenever we need a new feature environment, we provision the Terraform configuration and deploy the code to an available project from the pool.  When the branch is merged, we `terraform destroy` the resources.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "This way, whenever we need a new feature environment, we provision the Terraform configuration and deploy the code to an available project from the pool. ", "keywords": ["feature"]}]}], "filtered-sentences": [{"source": "Body", "text": "This way, whenever we need a new feature environment, we provision the Terraform configuration and deploy the code to an available project from the pool. ", "keywords": ["feature"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "I am using Terraform to build a configuration to create a GCP project with all required infrastructure, which will be used to create non-production environments on a feature-by-feature basis. ", "keywords": ["feature"]}]}