{"Id": "68034155", "PostTypeId": "1", "CreationDate": "2021-06-18T11:13:34.130", "Score": "0", "ViewCount": "496", "Body": "<p>I have some tags (like <code>os</code>) that can be reliably inferred by the AMI used to spin up the ec2 instance.\nHow to make the ec2 instances inherit tags from the AMI to avoid the duplication of tagging each instance separately in terraform?</p>\n", "OwnerUserId": "1535591", "LastActivityDate": "2022-05-19T12:08:13.377", "Title": "How to make EC2 \"inherit\" tags from AMI", "Tags": "<amazon-web-services><amazon-ec2><terraform><amazon-ami>", "AnswerCount": "1", "CommentCount": "3", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "120248109", "PostId": "68034155", "Score": "4", "Text": "Have a `resource \"aws_ami\"` or `data \"aws_ami\"` and access the `.tags` of it and pass it to the `resource \"aws_instance\"` you are trying to create.", "CreationDate": "2021-06-18T11:19:44.027", "UserId": "2442804", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "120249030", "PostId": "68034155", "Score": "0", "Text": "What are you trying to achieve by that? If you are wanting to know more information about the AMI (eg the operating system) then you can just describe the AMI after describing the instance. Or do you have something specific in there that is useful for categorising the instance for either cost or programmatic purposes?", "CreationDate": "2021-06-18T11:58:41.980", "UserId": "2291321", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "If you are wanting to know more information about the AMI (eg the operating system) then you can just describe the AMI after describing the instance. ", "keywords": ["instance"]}, {"source": "Text", "text": "Or do you have something specific in there that is useful for categorising the instance for either cost or programmatic purposes?", "keywords": ["cost", "instance"]}]}, {"Id": "120249045", "PostId": "68034155", "Score": "0", "Text": "Could you also edit your question to include a [mcve] of where you've got up to so far please? That makes it easier for people to tell what you've done and then to be able to suggest approaches from there.", "CreationDate": "2021-06-18T11:59:43.003", "UserId": "2291321", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "248718675", "PostHistoryTypeId": "2", "PostId": "68034155", "RevisionGUID": "0fa5b890-fd8b-4406-bb99-e1e1b2d34bdd", "CreationDate": "2021-06-18T11:13:34.130", "UserId": "1535591", "Text": "I have some tags (like `os`) that can be reliably inferred by the AMI used to spin up the ec2 instance.\r\nHow to make the ec2 instances inherit tags from the AMI to avoid the duplication of tagging each instance separately in terraform?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I have some tags (like `os`) that can be reliably inferred by the AMI used to spin up the ec2 instance. ", "keywords": ["instance"]}, {"source": "Text", "text": "How to make the ec2 instances inherit tags from the AMI to avoid the duplication of tagging each instance separately in terraform?", "keywords": ["instance"]}]}, {"Id": "248718676", "PostHistoryTypeId": "1", "PostId": "68034155", "RevisionGUID": "0fa5b890-fd8b-4406-bb99-e1e1b2d34bdd", "CreationDate": "2021-06-18T11:13:34.130", "UserId": "1535591", "Text": "How to make EC2 \"inherit\" tags from AMI", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "248718677", "PostHistoryTypeId": "3", "PostId": "68034155", "RevisionGUID": "0fa5b890-fd8b-4406-bb99-e1e1b2d34bdd", "CreationDate": "2021-06-18T11:13:34.130", "UserId": "1535591", "Text": "<amazon-web-services><amazon-ec2><terraform><amazon-ami>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "72304273", "PostTypeId": "2", "ParentId": "68034155", "CreationDate": "2022-05-19T12:08:13.377", "Score": "1", "Body": "<p>In my findings doesn't seem that the EC2 instance can inherit the tags from the AMI, If you're trying to create several instances using those tags I would suggest creating a Launch template and add the tags that way so you won't need to add them manually again.</p>\n", "OwnerUserId": "18643798", "LastActivityDate": "2022-05-19T12:08:13.377", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "270495883", "PostHistoryTypeId": "2", "PostId": "72304273", "RevisionGUID": "98a2f6fa-9df1-4f78-a965-ca2b34e3d6ee", "CreationDate": "2022-05-19T12:08:13.377", "UserId": "18643798", "Text": "In my findings doesn't seem that the EC2 instance can inherit the tags from the AMI, If you're trying to create several instances using those tags I would suggest creating a Launch template and add the tags that way so you won't need to add them manually again.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "In my findings doesn't seem that the EC2 instance can inherit the tags from the AMI, ", "keywords": ["instance"]}]}], "filtered-sentences": [{"source": "Body", "text": "In my findings doesn't seem that the EC2 instance can inherit the tags from the AMI, ", "keywords": ["instance"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "I have some tags (like os) that can be reliably inferred by the AMI used to spin up the ec2 instance. ", "keywords": ["instance"]}, {"source": "Body", "text": "How to make the ec2 instances inherit tags from the AMI to avoid the duplication of tagging each instance separately in terraform?", "keywords": ["instance"]}]}