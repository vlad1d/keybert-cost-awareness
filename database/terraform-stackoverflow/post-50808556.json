{"Id": "50808556", "PostTypeId": "1", "AcceptedAnswerId": "50808716", "CreationDate": "2018-06-12T02:44:54.097", "Score": "0", "ViewCount": "111", "Body": "<p>Using Terraform 0.9.6 I get this error when I try to create spot fleet using the code below, but when I use \nv0.11.7, it works. Terraform doc is <a href=\"https://www.terraform.io/docs/providers/aws/r/spot_fleet_request.html\" rel=\"nofollow noreferrer\">here</a>. My question is how can I determine if this is due to lack of v0.9.6 features or if I'm using the syntax incorrectly. How can I find this out?</p>\n\n<p>I need to make the sport fleet resource tags work with v0.9.6.</p>\n\n<p>Error:</p>\n\n<pre><code>* aws_spot_fleet_request.cheap_compute: launch_specification.0: invalid or unknown key: tags\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code># Request a Spot fleet\nresource \"aws_spot_fleet_request\" \"cheap_compute\" {\n  iam_fleet_role      = \"arn:aws:iam::xxxxxxxxxxxxx:role/aws-service-role/spotfleet.amazonaws.com/AWSServiceRoleForEC2SpotFleet\"\n  spot_price          = \"0.03\"\n  allocation_strategy = \"diversified\"\n  target_capacity     = 2\n  valid_until         = \"2018-07-21T20:44:20Z\"\n\n  launch_specification {\n    instance_type     = \"t2.micro\"\n    ami               = \"ami-1853ac65\"\n    spot_price        = \"0.777\"\n    availability_zone = \"us-east-1a\"\n    key_name        = \"${var.key_name}\"\n\n    tags {\n      Name = \"spot-fleet-example\"}\n  } \n} \n</code></pre>\n", "OwnerUserId": "4133463", "LastActivityDate": "2018-06-12T13:50:33.813", "Title": "Terraform version 0.9.6 support spot fleet tags", "Tags": "<amazon-ec2><terraform>", "AnswerCount": "1", "CommentCount": "0", "FavoriteCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "175380223", "PostHistoryTypeId": "2", "PostId": "50808556", "RevisionGUID": "8b01801d-4817-46cb-a097-4d1f4a36a765", "CreationDate": "2018-06-12T02:44:54.097", "UserId": "4133463", "Text": "Using Terraform 0.9.6 I get this error when I try to create spot fleet using the code below, but when I use \r\nv0.11.7, it works. Terraform doc is [here][1]. My question is how can I determine if this is due to lack of v0.9.6 features or if I'm using the syntax incorrectly. How can I find this out?\r\n\r\nI need to make the sport fleet resource tags work with v0.9.6.\r\n\r\nError:\r\n\r\n    * aws_spot_fleet_request.cheap_compute: launch_specification.0: invalid or unknown key: tags\r\n\r\nCode:\r\n\r\n    # Request a Spot fleet\r\n    resource \"aws_spot_fleet_request\" \"cheap_compute\" {\r\n      iam_fleet_role      = \"arn:aws:iam::xxxxxxxxxxxxx:role/aws-service-role/spotfleet.amazonaws.com/AWSServiceRoleForEC2SpotFleet\"\r\n      spot_price          = \"0.03\"\r\n      allocation_strategy = \"diversified\"\r\n      target_capacity     = 2\r\n      valid_until         = \"2018-07-21T20:44:20Z\"\r\n      \r\n      launch_specification {\r\n        instance_type     = \"t2.micro\"\r\n        ami               = \"ami-1853ac65\"\r\n        spot_price        = \"0.777\"\r\n        availability_zone = \"us-east-1a\"\r\n        key_name        = \"${var.key_name}\"\r\n        \r\n        tags {\r\n          Name = \"spot-fleet-example\"}\r\n      } \r\n    } \r\n\r\n\r\n  [1]: https://www.terraform.io/docs/providers/aws/r/spot_fleet_request.html", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I need to make the sport fleet resource tags work with v0.9.6. Error: * aws_spot_fleet_request.cheap_compute: launch_specification.0: invalid or unknown key: tags Code: # Request a Spot fleet resource \"aws_spot_fleet_request\" \"cheap_compute\" { iam_fleet_role = \"arn:aws:iam::xxxxxxxxxxxxx:role/aws-service-role/spotfleet.amazonaws.com/AWSServiceRoleForEC2SpotFleet\" spot_price = \"0.03\" allocation_strategy = \"diversified\" target_capacity = 2 valid_until = \"2018-07-21T20:44:20Z\" launch_specification { instance_type = \"t2.micro\" ami = \"ami-1853ac65\" spot_price = \"0.777\" availability_zone = \"us-east-1a\" key_name = \"${var.key_name}\" tags { Name = \"spot-fleet-example\"} } } [1]: https://www.terraform.io/docs/providers/aws/r/spot_fleet_request.html", "keywords": ["cheap"]}]}, {"Id": "175380224", "PostHistoryTypeId": "1", "PostId": "50808556", "RevisionGUID": "8b01801d-4817-46cb-a097-4d1f4a36a765", "CreationDate": "2018-06-12T02:44:54.097", "UserId": "4133463", "Text": "Terraform version 0.9.6 support spot fleet tags", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "175380225", "PostHistoryTypeId": "3", "PostId": "50808556", "RevisionGUID": "8b01801d-4817-46cb-a097-4d1f4a36a765", "CreationDate": "2018-06-12T02:44:54.097", "UserId": "4133463", "Text": "<amazon-ec2><terraform>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "50808716", "PostTypeId": "2", "ParentId": "50808556", "CreationDate": "2018-06-12T03:11:30.343", "Score": "1", "Body": "<p>Support for tags in <code>aws_spot_fleet_request</code> was added in the <strong>terraform-provider-aws</strong> in <a href=\"https://github.com/terraform-providers/terraform-provider-aws/blob/master/CHANGELOG.md#120-october-31-2017\" rel=\"nofollow noreferrer\"><code>1.2.0</code></a>. This was almost 5 months after the release of Terraform <code>0.9.6</code>. At that time of <code>0.9.6</code> providers were shipped with <strong>Terraform</strong>. They later moved to shipping independently as part of <a href=\"https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md#0100-august-2-2017\" rel=\"nofollow noreferrer\"><code>0.10.0</code></a> a few months later. You'll need a newer version to get tag support.</p>\n", "OwnerUserId": "9797143", "LastEditorUserId": "9797143", "LastEditDate": "2018-06-12T13:50:33.813", "LastActivityDate": "2018-06-12T13:50:33.813", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "88623352", "PostId": "50808716", "Score": "0", "Text": "The 0.9.6 seems to work for resource \"aws_instance\" and tags. It just doesn't seem to work for spot fleet and tags. Your response seem to imply tags in general?", "CreationDate": "2018-06-12T03:34:47.630", "UserId": "4133463", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "88633739", "PostId": "50808716", "Score": "0", "Text": "Just spot fleet tagging, clarified answer.", "CreationDate": "2018-06-12T10:02:13.637", "UserId": "9797143", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "175381063", "PostHistoryTypeId": "2", "PostId": "50808716", "RevisionGUID": "f13a2bd9-458a-470f-8362-51debebb761c", "CreationDate": "2018-06-12T03:11:30.343", "UserId": "9797143", "Text": "Support for tags was added in the **terraform-provider-aws** in [`1.2.0`][1]. This was almost 5 months after the release of Terraform `0.9.6`. At that time of `0.9.6` providers were shipped with **Terraform**. They later moved to shipping independently as part of [`0.10.0`][2] a few months later. You'll need a newer version to get tag support.\r\n\r\n\r\n  [1]: https://github.com/terraform-providers/terraform-provider-aws/blob/master/CHANGELOG.md#120-october-31-2017\r\n  [2]: https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md#0100-august-2-2017", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Support for tags was added in the **terraform-provider-aws** in [`1.2.0`][1]. ", "keywords": ["provider"]}, {"source": "Text", "text": "You'll need a newer version to get tag support. [1]: https://github.com/terraform-providers/terraform-provider-aws/blob/master/CHANGELOG.md#120-october-31-2017 [2]: https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md#0100-august-2-2017", "keywords": ["provider", "change"]}]}, {"Id": "175404121", "PostHistoryTypeId": "5", "PostId": "50808716", "RevisionGUID": "1d63ccd2-8f58-47c9-b943-74dd23825f43", "CreationDate": "2018-06-12T10:01:43.130", "UserId": "9797143", "Comment": "added 13 characters in body", "Text": "Support for tags `spot_fleet` was added in the **terraform-provider-aws** in [`1.2.0`][1]. This was almost 5 months after the release of Terraform `0.9.6`. At that time of `0.9.6` providers were shipped with **Terraform**. They later moved to shipping independently as part of [`0.10.0`][2] a few months later. You'll need a newer version to get tag support.\r\n\r\n\r\n  [1]: https://github.com/terraform-providers/terraform-provider-aws/blob/master/CHANGELOG.md#120-october-31-2017\r\n  [2]: https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md#0100-august-2-2017", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Support for tags `spot_fleet` was added in the **terraform-provider-aws** in [`1.2.0`][1]. ", "keywords": ["provider"]}, {"source": "Text", "text": "You'll need a newer version to get tag support. [1]: https://github.com/terraform-providers/terraform-provider-aws/blob/master/CHANGELOG.md#120-october-31-2017 [2]: https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md#0100-august-2-2017", "keywords": ["provider", "change"]}]}, {"Id": "175422657", "PostHistoryTypeId": "5", "PostId": "50808716", "RevisionGUID": "24b32f78-41db-4e2a-884e-2f704b56f1db", "CreationDate": "2018-06-12T13:50:33.813", "UserId": "9797143", "Comment": "added 15 characters in body", "Text": "Support for tags in `aws_spot_fleet_request` was added in the **terraform-provider-aws** in [`1.2.0`][1]. This was almost 5 months after the release of Terraform `0.9.6`. At that time of `0.9.6` providers were shipped with **Terraform**. They later moved to shipping independently as part of [`0.10.0`][2] a few months later. You'll need a newer version to get tag support.\r\n\r\n\r\n  [1]: https://github.com/terraform-providers/terraform-provider-aws/blob/master/CHANGELOG.md#120-october-31-2017\r\n  [2]: https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md#0100-august-2-2017", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Support for tags in `aws_spot_fleet_request` was added in the **terraform-provider-aws** in [`1.2.0`][1]. ", "keywords": ["provider"]}, {"source": "Text", "text": "You'll need a newer version to get tag support. [1]: https://github.com/terraform-providers/terraform-provider-aws/blob/master/CHANGELOG.md#120-october-31-2017 [2]: https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md#0100-august-2-2017", "keywords": ["provider", "change"]}]}], "filtered-sentences": [{"source": "Body", "text": "Support for tags in aws_spot_fleet_request was added in the terraform-provider-aws in 1.2.0. ", "keywords": ["provider"]}]}], "contains-topic": true, "filtered-sentences": []}