{"Id": "58192400", "PostTypeId": "1", "AcceptedAnswerId": "58203205", "CreationDate": "2019-10-01T21:20:43.933", "Score": "2", "ViewCount": "929", "Body": "<p>I created a brand new (free) AWS account.</p>\n\n<p>Using terraform, I created an EC2 instance but can't see it in aws console.</p>\n\n<p>My terraform script is very simple</p>\n\n<pre><code>provider \"aws\" {\n  region = \"us-east-2\"\n}\n\nresource \"aws_instance\" \"example\" {\n  ami           = \"ami-0c55b159cbfafe1f0\"\n  instance_type = \"t2.micro\"\n  tags = {\n    Name = \"terraform-example\"\n  }\n}\n</code></pre>\n\n<p><code>terraform apply</code> completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...</p>\n\n<p>Even if I login as the AWS root account.</p>\n\n<p>Out of curiosity, I created an EC2 instance manually through the AWS Console. I can see this one created manually.</p>\n\n<p>If I run <code>terraform plan</code> again, it's still says everything is fine...</p>\n\n<p>Should not it try to remove this new manual instance instead?</p>\n\n<p>Does that confirm that my terraform instance is not looking at the account I think it is???</p>\n\n<hr>\n\n<p>Later, I took the exact same credentials and <code>main.tf</code> file to another laptop</p>\n\n<p>Initially <code>terraform plan</code> did not recognise my EC2 (or anything) created before (I suppose this is because i did not copy across the Terraform state file...).</p>\n\n<p>Ran <code>terraform apply</code> which recreated the items... and this time I can see the instances I create...</p>\n\n<p>Next step: try to find out whether this initial EC2 instance has been created in another region... which I am hoping to find out through billing / or activity...</p>\n", "OwnerUserId": "10331351", "LastEditorUserId": "1377323", "LastEditDate": "2019-10-02T21:51:13.533", "LastActivityDate": "2019-10-02T21:51:13.533", "Title": "terraform beginner: where is my EC2 instance gone?", "Tags": "<amazon-ec2><terraform><terraform-provider-aws>", "AnswerCount": "2", "CommentCount": "4", "FavoriteCount": "0", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "102764253", "PostId": "58192400", "Score": "0", "Text": "Hi Eric - I can imagine that the TF state-file is misaligned as the managed-state from the actual state, so it is worth to try to run an a show info to fetch the instanceId or maybe run a destroy and plan/apply. Alternatively - Not sure if you have multiple accounts, but it is worth to doublecheck if the API Keys set for your terraform is actually for the same account and if you're console points to the same region.", "CreationDate": "2019-10-01T21:28:51.803", "UserId": "4358231", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "102767334", "PostId": "58192400", "Score": "0", "Text": "first check the secret key and access key used for terraform belong to which AWS account and then check the correct region on the console. It's a software which always has a logic, not magic which will eat your instance :)", "CreationDate": "2019-10-02T01:39:17.460", "UserId": "3057843", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "It's a software which always has a logic, not magic which will eat your instance :)", "keywords": ["instance"]}]}, {"Id": "102770668", "PostId": "58192400", "Score": "0", "Text": "I set the AWS_ACCESS_KEY and AWS_SECRET_ACCESS_KEY through environment variables and they AWS_ACCESS_KEY looks fine", "CreationDate": "2019-10-02T06:21:18.933", "UserId": "10331351", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "102770747", "PostId": "58192400", "Score": "0", "Text": "For the TF state, it seems ok because terraform plan recognizes the instance.\nIt even gives me the instance id but not sure what I can do with that", "CreationDate": "2019-10-02T06:25:42.303", "UserId": "10331351", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "For the TF state, it seems ok because terraform plan recognizes the instance. ", "keywords": ["instance"]}, {"source": "Text", "text": "It even gives me the instance id but not sure what I can do with that", "keywords": ["instance"]}]}], "history": [{"Id": "206420616", "PostHistoryTypeId": "2", "PostId": "58192400", "RevisionGUID": "8141e903-a852-4e51-b24f-c83200292bc4", "CreationDate": "2019-10-01T21:20:43.933", "UserId": "10331351", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\nterraform apply completes successfully but when going to EC2 on the AWS console, it tells me that there are no instances...\r\n\r\nEven if I login as the aws root account.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` terraform apply completes successfully but when going to EC2 on the AWS console, it tells me that there are no instances... ", "keywords": ["provider"]}]}, {"Id": "206420617", "PostHistoryTypeId": "1", "PostId": "58192400", "RevisionGUID": "8141e903-a852-4e51-b24f-c83200292bc4", "CreationDate": "2019-10-01T21:20:43.933", "UserId": "10331351", "Text": "terraform beginner: where is my EC2 instance gone?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "terraform beginner: where is my EC2 instance gone?", "keywords": ["instance"]}]}, {"Id": "206420618", "PostHistoryTypeId": "3", "PostId": "58192400", "RevisionGUID": "8141e903-a852-4e51-b24f-c83200292bc4", "CreationDate": "2019-10-01T21:20:43.933", "UserId": "10331351", "Text": "<amazon-ec2><terraform-provider-aws>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "206422198", "PostHistoryTypeId": "5", "PostId": "58192400", "RevisionGUID": "8a9b048f-7712-44d8-8088-a1d4a0082da5", "CreationDate": "2019-10-01T21:59:18.490", "UserId": "4358231", "Comment": "Add more tags and format further", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\n\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\n`terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...\r\n\r\nEven if I login as the AWS root account.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` `terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances... ", "keywords": ["provider"]}]}, {"Id": "206422199", "PostHistoryTypeId": "6", "PostId": "58192400", "RevisionGUID": "8a9b048f-7712-44d8-8088-a1d4a0082da5", "CreationDate": "2019-10-01T21:59:18.490", "UserId": "4358231", "Comment": "Add more tags and format further", "Text": "<amazon-ec2><terraform><terraform-provider-aws>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "206422200", "PostHistoryTypeId": "24", "PostId": "58192400", "RevisionGUID": "8a9b048f-7712-44d8-8088-a1d4a0082da5", "CreationDate": "2019-10-01T21:59:18.490", "Comment": "Proposed by 4358231 approved by -1 edit id of 4507058", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "206422201", "PostHistoryTypeId": "5", "PostId": "58192400", "RevisionGUID": "fdb62873-0613-4ff0-8afe-f826d2be493b", "CreationDate": "2019-10-01T21:59:18.490", "UserId": "155248", "Comment": "Add more tags and format further", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\n`terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...\r\n\r\nEven if I login as the AWS root account.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` `terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances... ", "keywords": ["provider"]}]}, {"Id": "206439947", "PostHistoryTypeId": "5", "PostId": "58192400", "RevisionGUID": "08eebe05-8249-4598-bc2d-1ed30842103f", "CreationDate": "2019-10-02T07:42:20.790", "UserId": "10331351", "Comment": "added 370 characters in body", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\n`terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...\r\n\r\nEven if I login as the AWS root account.\r\n\r\n2019-10-02: out of curiosity, I created an EC2 instance manually through the AWS Console.\r\n \r\nI can see this one created manually.\r\n\r\nIf I run \"terraform plan\" again, it's still says everything is fine...\r\n\r\nShould not it try to remove this new manual instance instead?\r\n\r\nDoes that confirm that my terraform instance is not looking at the account I think it is???\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` `terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances... ", "keywords": ["provider"]}, {"source": "Text", "text": "2019-10-02: out of curiosity, I created an EC2 instance manually through the AWS Console. ", "keywords": ["instance"]}, {"source": "Text", "text": "Should not it try to remove this new manual instance instead? ", "keywords": ["instance"]}, {"source": "Text", "text": "Does that confirm that my terraform instance is not looking at the account I think it is???", "keywords": ["instance"]}]}, {"Id": "206458626", "PostHistoryTypeId": "5", "PostId": "58192400", "RevisionGUID": "1fc74ab5-5c95-4d3a-9010-3e7fbfb96082", "CreationDate": "2019-10-02T12:42:59.077", "UserId": "10331351", "Comment": "added 264 characters in body", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\n`terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...\r\n\r\nEven if I login as the AWS root account.\r\n\r\n2019-10-02 _ 1: out of curiosity, I created an EC2 instance manually through the AWS Console.\r\n \r\nI can see this one created manually.\r\n\r\nIf I run \"terraform plan\" again, it's still says everything is fine...\r\n\r\nShould not it try to remove this new manual instance instead?\r\n\r\nDoes that confirm that my terraform instance is not looking at the account I think it is???\r\n\r\n2019-10-02 _ 2: I took the exact same credentials and main.tf file to another laptop\r\n\r\nInitially \"terraform plan\" did not recognise my EC2 (or anything) created before.\r\n\r\nRan \"terraform apply\" which recreated the items... and yet again, I cannot see it from the console!!!\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` `terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances... ", "keywords": ["provider"]}, {"source": "Text", "text": "2019-10-02 _ 1: out of curiosity, I created an EC2 instance manually through the AWS Console. ", "keywords": ["instance"]}, {"source": "Text", "text": "Should not it try to remove this new manual instance instead? ", "keywords": ["instance"]}, {"source": "Text", "text": "Does that confirm that my terraform instance is not looking at the account I think it is??? ", "keywords": ["instance"]}]}, {"Id": "206462489", "PostHistoryTypeId": "5", "PostId": "58192400", "RevisionGUID": "2ab32364-4c1a-4e48-a25f-53aaab829516", "CreationDate": "2019-10-02T13:39:32.273", "UserId": "10331351", "Comment": "added 245 characters in body", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\n`terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...\r\n\r\nEven if I login as the AWS root account.\r\n\r\n2019-10-02 _ 1: out of curiosity, I created an EC2 instance manually through the AWS Console.\r\n \r\nI can see this one created manually.\r\n\r\nIf I run \"terraform plan\" again, it's still says everything is fine...\r\n\r\nShould not it try to remove this new manual instance instead?\r\n\r\nDoes that confirm that my terraform instance is not looking at the account I think it is???\r\n\r\n\r\n2019-10-02 _ 2: I took the exact same credentials and main.tf file to another laptop\r\n\r\nInitially \"terraform plan\" did not recognise my EC2 (or anything) created before (I suppose this is because i did not copy across the Terraform state file...).\r\n\r\nRan \"terraform apply\" which recreated the items... and this time I can see the instances I create...\r\n\r\n\r\nNext step: try to find out whether this initial EC2 instance has been created in another region... which I am hoping to find out through billing / or actvity...\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` `terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances... ", "keywords": ["provider"]}, {"source": "Text", "text": "2019-10-02 _ 1: out of curiosity, I created an EC2 instance manually through the AWS Console. ", "keywords": ["instance"]}, {"source": "Text", "text": "Should not it try to remove this new manual instance instead? ", "keywords": ["instance"]}, {"source": "Text", "text": "Does that confirm that my terraform instance is not looking at the account I think it is??? ", "keywords": ["instance"]}, {"source": "Text", "text": "Next step: try to find out whether this initial EC2 instance has been created in another region... which I am hoping to find out through billing / or actvity...", "keywords": ["bill", "instance"]}]}, {"Id": "206491454", "PostHistoryTypeId": "5", "PostId": "58192400", "RevisionGUID": "a9a6f710-aac5-46c7-a92d-2846c649d46f", "CreationDate": "2019-10-02T21:51:13.533", "UserId": "4358231", "Comment": "Few formatting and typo fixes", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\n`terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...\r\n\r\nEven if I login as the AWS root account.\r\n\r\nOut of curiosity, I created an EC2 instance manually through the AWS Console. I can see this one created manually.\r\n\r\nIf I run `terraform plan` again, it's still says everything is fine...\r\n\r\nShould not it try to remove this new manual instance instead?\r\n\r\nDoes that confirm that my terraform instance is not looking at the account I think it is???\r\n\r\n\r\n----------\r\n\r\n\r\nLater, I took the exact same credentials and `main.tf` file to another laptop\r\n\r\nInitially `terraform plan` did not recognise my EC2 (or anything) created before (I suppose this is because i did not copy across the Terraform state file...).\r\n\r\nRan `terraform apply` which recreated the items... and this time I can see the instances I create...\r\n\r\n\r\nNext step: try to find out whether this initial EC2 instance has been created in another region... which I am hoping to find out through billing / or activity...\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` `terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances... ", "keywords": ["provider"]}, {"source": "Text", "text": "Out of curiosity, I created an EC2 instance manually through the AWS Console. ", "keywords": ["instance"]}, {"source": "Text", "text": "Should not it try to remove this new manual instance instead? ", "keywords": ["instance"]}, {"source": "Text", "text": "Does that confirm that my terraform instance is not looking at the account I think it is??? ---------- Later, I took the exact same credentials and `main.tf` file to another laptop ", "keywords": ["instance"]}, {"source": "Text", "text": "Next step: try to find out whether this initial EC2 instance has been created in another region... which I am hoping to find out through billing / or activity...", "keywords": ["bill", "instance"]}]}, {"Id": "206491455", "PostHistoryTypeId": "24", "PostId": "58192400", "RevisionGUID": "a9a6f710-aac5-46c7-a92d-2846c649d46f", "CreationDate": "2019-10-02T21:51:13.533", "Comment": "Proposed by 4358231 approved by 59991, -1 edit id of 4508694", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "206491456", "PostHistoryTypeId": "5", "PostId": "58192400", "RevisionGUID": "e9fea7fe-d85f-42e3-ae19-db3ed996a9eb", "CreationDate": "2019-10-02T21:51:13.533", "UserId": "1377323", "Comment": "Few formatting and typo fixes", "Text": "I created a brand new (free) AWS account.\r\n\r\nUsing terraform, I created an EC2 instance but can't see it in aws console.\r\n\r\nMy terraform script is very simple\r\n\r\n```terraform\r\nprovider \"aws\" {\r\n  region = \"us-east-2\"\r\n}\r\n\r\nresource \"aws_instance\" \"example\" {\r\n  ami           = \"ami-0c55b159cbfafe1f0\"\r\n  instance_type = \"t2.micro\"\r\n  tags = {\r\n    Name = \"terraform-example\"\r\n  }\r\n}\r\n```\r\n\r\n`terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances...\r\n\r\nEven if I login as the AWS root account.\r\n\r\nOut of curiosity, I created an EC2 instance manually through the AWS Console. I can see this one created manually.\r\n\r\nIf I run `terraform plan` again, it's still says everything is fine...\r\n\r\nShould not it try to remove this new manual instance instead?\r\n\r\nDoes that confirm that my terraform instance is not looking at the account I think it is???\r\n\r\n----------\r\n\r\nLater, I took the exact same credentials and `main.tf` file to another laptop\r\n\r\nInitially `terraform plan` did not recognise my EC2 (or anything) created before (I suppose this is because i did not copy across the Terraform state file...).\r\n\r\nRan `terraform apply` which recreated the items... and this time I can see the instances I create...\r\n\r\nNext step: try to find out whether this initial EC2 instance has been created in another region... which I am hoping to find out through billing / or activity...", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Text", "text": "My terraform script is very simple ```terraform provider \"aws\" { region = \"us-east-2\" } resource \"aws_instance\" \"example\" { ami = \"ami-0c55b159cbfafe1f0\" instance_type = \"t2.micro\" tags = { Name = \"terraform-example\" } } ``` `terraform apply` completes successfully but when going to EC2 on the AWS Console, it tells me that there are no instances... ", "keywords": ["provider"]}, {"source": "Text", "text": "Out of curiosity, I created an EC2 instance manually through the AWS Console. ", "keywords": ["instance"]}, {"source": "Text", "text": "Should not it try to remove this new manual instance instead? ", "keywords": ["instance"]}, {"source": "Text", "text": "Does that confirm that my terraform instance is not looking at the account I think it is??? ---------- Later, I took the exact same credentials and `main.tf` file to another laptop ", "keywords": ["instance"]}, {"source": "Text", "text": "Next step: try to find out whether this initial EC2 instance has been created in another region... which I am hoping to find out through billing / or activity...", "keywords": ["bill", "instance"]}]}], "answers": [{"Id": "58203205", "PostTypeId": "2", "ParentId": "58192400", "CreationDate": "2019-10-02T14:06:10.177", "Score": "3", "Body": "<p>It was because I was not using the credentials I thought...</p>\n\n<p>I thought I had setup the 2 env variables AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY but I had made a typo when assigning AWS_SECRET_ACCESS_KEY and it was not set.</p>\n\n<p>It happened that I had a \"credentials\" file hanging around in my ~/.aws folder with tests I had done on a different AWS account about a year ago (which I had all forgotten about).</p>\n\n<p>Once I removed the .aws/credentials file AND assigned AWS_SECRET_ACCESS_KEY properly, everything behaved as expected.</p>\n\n<p>I used a trick given to me by Laura M. (thanks) to show which user details were used by terraform</p>\n\n<pre><code>data \"aws_caller_identity\" \"current\" {}\n\noutput \"account_id\" {\n  value = \"${data.aws_caller_identity.current.account_id}\"\n}\n\noutput \"caller_arn\" {\n  value = \"${data.aws_caller_identity.current.arn}\"\n}\n\noutput \"caller_user\" {\n  value = \"${data.aws_caller_identity.current.user_id}\"\n}\n</code></pre>\n", "OwnerUserId": "10331351", "LastEditorUserId": "10331351", "LastEditDate": "2019-10-02T20:34:07.210", "LastActivityDate": "2019-10-02T20:34:07.210", "CommentCount": "1", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "102794593", "PostId": "58203205", "Score": "1", "Text": "If you are on Windows, additional credentials might come from the Windows AWS Toolkit locations too, not just from the CLI `~/.aws/credentials` or from the `AWS_*` environment variables: https://docs.aws.amazon.com/powershell/latest/userguide/specifying-your-aws-credentials.html#specifying-your-aws-credentials-store Hope this might reveal the sneaking credentials!", "CreationDate": "2019-10-02T19:42:54.843", "UserId": "4358231", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "206464429", "PostHistoryTypeId": "2", "PostId": "58203205", "RevisionGUID": "bba2d78a-2f09-4917-a1fb-98ad56052ca6", "CreationDate": "2019-10-02T14:06:10.177", "UserId": "10331351", "Text": "Although I don't know exactly why yet (working on it...), it would appear that terraform was not using the credentials I thought and picked up another AWS account from somewhere.\r\n\r\n\r\nWill post the details here once I have worked that out.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "206488020", "PostHistoryTypeId": "5", "PostId": "58203205", "RevisionGUID": "b3bb9814-1b91-420f-a2a8-7cc00bba8169", "CreationDate": "2019-10-02T20:34:07.210", "UserId": "10331351", "Comment": "added 747 characters in body", "Text": "It was because I was not using the credentials I thought...\r\n\r\nI thought I had setup the 2 env variables AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY but I had made a typo when assigning AWS_SECRET_ACCESS_KEY and it was not set.\r\n\r\nIt happened that I had a \"credentials\" file hanging around in my ~/.aws folder with tests I had done on a different AWS account about a year ago (which I had all forgotten about).\r\n\r\nOnce I removed the .aws/credentials file AND assigned AWS_SECRET_ACCESS_KEY properly, everything behaved as expected.\r\n\r\nI used a trick given to me by Laura M. (thanks) to show which user details were used by terraform\r\n\r\n    data \"aws_caller_identity\" \"current\" {}\r\n    \r\n    output \"account_id\" {\r\n      value = \"${data.aws_caller_identity.current.account_id}\"\r\n    }\r\n    \r\n    output \"caller_arn\" {\r\n      value = \"${data.aws_caller_identity.current.arn}\"\r\n    }\r\n    \r\n    output \"caller_user\" {\r\n      value = \"${data.aws_caller_identity.current.user_id}\"\r\n    }\r\n\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "It happened that I had a \"credentials\" file hanging around in my ~/.aws folder with tests I had done on a different AWS account about a year ago (which I had all forgotten about). ", "keywords": ["test"]}]}], "filtered-sentences": [{"source": "Body", "text": "It happened that I had a \"credentials\" file hanging around in my ~/.aws folder with tests I had done on a different AWS account about a year ago (which I had all forgotten about). ", "keywords": ["test"]}]}, {"Id": "58193309", "PostTypeId": "2", "ParentId": "58192400", "CreationDate": "2019-10-01T22:58:17.030", "Score": "2", "Body": "<p>Do you have the us-east-2 region (Ohio) selected in the AWS Console. By default I think it defaults to us-east-1 (Virginia) for new US accounts but your TF AWS provider is configured to deploy to us-east-2.</p>\n", "OwnerUserId": "481816", "LastActivityDate": "2019-10-01T22:58:17.030", "CommentCount": "2", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "102770615", "PostId": "58193309", "Score": "0", "Text": "checked in both us-east-1 (N Virginia) and us-east-2 (Ohio)", "CreationDate": "2019-10-02T06:18:34.480", "UserId": "10331351", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "102777489", "PostId": "58193309", "Score": "0", "Text": "Can you run the command `terraform show` and paste the output with your question?", "CreationDate": "2019-10-02T10:32:19.203", "UserId": "481816", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "history": [{"Id": "206424161", "PostHistoryTypeId": "2", "PostId": "58193309", "RevisionGUID": "6e774def-aeae-4d83-8301-036c8a2445f3", "CreationDate": "2019-10-01T22:58:17.030", "UserId": "481816", "Text": "Do you have the us-east-2 region (Ohio) selected in the AWS Console. By default I think it defaults to us-east-1 (Virginia) for new US accounts but your TF AWS provider is configured to deploy to us-east-2.", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "By default I think it defaults to us-east-1 (Virginia) for new US accounts but your TF AWS provider is configured to deploy to us-east-2.", "keywords": ["provider"]}]}], "filtered-sentences": [{"source": "Body", "text": "By default I think it defaults to us-east-1 (Virginia) for new US accounts but your TF AWS provider is configured to deploy to us-east-2.", "keywords": ["provider"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Title", "text": "terraform beginner: where is my EC2 instance gone?", "keywords": ["instance"]}, {"source": "Body", "text": "Using terraform, I created an EC2 instance but can't see it in aws console. ", "keywords": ["instance"]}, {"source": "Body", "text": "Out of curiosity, I created an EC2 instance manually through the AWS Console. ", "keywords": ["instance"]}, {"source": "Body", "text": "Should not it try to remove this new manual instance instead? ", "keywords": ["instance"]}, {"source": "Body", "text": "Does that confirm that my terraform instance is not looking at the account I think it is??? ", "keywords": ["instance"]}, {"source": "Body", "text": "Next step: try to find out whether this initial EC2 instance has been created in another region... ", "keywords": ["instance"]}, {"source": "Body", "text": "which I am hoping to find out through billing / or activity...", "keywords": ["bill"]}]}