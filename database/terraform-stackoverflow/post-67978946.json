{"Id": "67978946", "PostTypeId": "1", "AcceptedAnswerId": "67988282", "CreationDate": "2021-06-15T01:37:09.367", "Score": "1", "ViewCount": "1516", "Body": "<p>I am planning to use terraform to deploy to GCP and I have read the instruction on how to set it up:</p>\n<pre><code>provider &quot;google&quot; {\n  project = &quot;{{YOUR GCP PROJECT}}&quot;\n  region  = &quot;us-central1&quot;\n  zone    = &quot;us-central1-c&quot;\n}\n</code></pre>\n<p>it requires a <code>project</code> name in the <code>provider</code> configuration. But I am planning to create the project via terraform like below code:</p>\n<pre><code>resource &quot;google_project&quot; &quot;my_project&quot; {\n  name       = &quot;My Project&quot;\n  project_id = &quot;your-project-id&quot;\n  org_id     = &quot;1234567&quot;\n}\n</code></pre>\n<p>how can I use terraform without a pre-created project?</p>\n", "OwnerUserId": "5421539", "LastActivityDate": "2021-06-15T14:31:06.320", "Title": "How can I create a project in gcp via terraform?", "Tags": "<google-cloud-platform><terraform>", "AnswerCount": "1", "CommentCount": "4", "ContentLicense": "CC BY-SA 4.0", "comments": [{"Id": "120152758", "PostId": "67978946", "Score": "0", "Text": "So what's the problem? Do you have pre-existing google organization?", "CreationDate": "2021-06-15T01:40:24.920", "UserId": "248823", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "120153135", "PostId": "67978946", "Score": "0", "Text": "I have pre-existing google organization but no project", "CreationDate": "2021-06-15T02:20:51.277", "UserId": "5421539", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "120153179", "PostId": "67978946", "Score": "2", "Text": "You will need to create a project and assign a billing account first. Then you can create projects using Terraform.", "CreationDate": "2021-06-15T02:25:36.853", "UserId": "8016720", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "You will need to create a project and assign a billing account first. ", "keywords": ["bill"]}]}, {"Id": "120279469", "PostId": "67978946", "Score": "0", "Text": "@JoeyYiZhao Were you able to get the project provisioned? Easy testing route would be to login to GCP, open Cloud Shell (should be authenticated at this point), create your `.tf` files in a directory at the CLI and run the normal `init  > plan > apply`. At a minimum you should need an `org_id`, `billing_account`, and `project_id`. You shouldn't need to have an already created project in order to provision this new project. If you wanted to use something like Cloud Build (CI/CD) to provision a new project in GCP then you would need a pre-existing project.", "CreationDate": "2021-06-20T00:47:19.307", "UserId": "13291468", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "Easy testing route would be to login to GCP, open Cloud Shell (should be authenticated at this point), create your `.tf` files in a directory at the CLI and run the normal `init > plan > apply`. ", "keywords": ["test"]}, {"source": "Text", "text": "At a minimum you should need an `org_id`, `billing_account`, and `project_id`. ", "keywords": ["bill"]}]}], "history": [{"Id": "248487495", "PostHistoryTypeId": "2", "PostId": "67978946", "RevisionGUID": "c46f4f97-c077-4c7b-878e-13d3db48998e", "CreationDate": "2021-06-15T01:37:09.367", "UserId": "5421539", "Text": "I am planning to use terraform to deploy to GCP and I have read the instruction on how to set it up:\r\n\r\n```\r\nprovider \"google\" {\r\n  project = \"{{YOUR GCP PROJECT}}\"\r\n  region  = \"us-central1\"\r\n  zone    = \"us-central1-c\"\r\n}\r\n```\r\n\r\nit requires a `project` name in the `provider` configuration. But I am planning to create the project via terraform like below code:\r\n\r\n```\r\nresource \"google_project\" \"my_project\" {\r\n  name       = \"My Project\"\r\n  project_id = \"your-project-id\"\r\n  org_id     = \"1234567\"\r\n}\r\n```\r\n\r\nhow can I use terraform without a pre-created project?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "I am planning to use terraform to deploy to GCP and I have read the instruction on how to set it up: ``` provider \"google\" { project = \"{{YOUR GCP PROJECT}}\" region = \"us-central1\" zone = \"us-central1-c\" } ``` it requires a `project` name in the `provider` configuration. ", "keywords": ["provider"]}]}, {"Id": "248487496", "PostHistoryTypeId": "1", "PostId": "67978946", "RevisionGUID": "c46f4f97-c077-4c7b-878e-13d3db48998e", "CreationDate": "2021-06-15T01:37:09.367", "UserId": "5421539", "Text": "How can I create a project in gcp via terraform?", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}, {"Id": "248487497", "PostHistoryTypeId": "3", "PostId": "67978946", "RevisionGUID": "c46f4f97-c077-4c7b-878e-13d3db48998e", "CreationDate": "2021-06-15T01:37:09.367", "UserId": "5421539", "Text": "<google-cloud-platform><terraform>", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": []}], "answers": [{"Id": "67988282", "PostTypeId": "2", "ParentId": "67978946", "CreationDate": "2021-06-15T14:31:06.320", "Score": "0", "Body": "<p>Take a look on this tutorial (from Community):</p>\n<p><a href=\"https://cloud.google.com/community/tutorials/managing-gcp-projects-with-terraform\" rel=\"nofollow noreferrer\">Creating Google Cloud projects with Terraform</a></p>\n<p>This tutorial assumes that you already have a Google Cloud account set up for your organization and that you are allowed to make organization-level changes in the account</p>\n<p>First step,for example, is to setup your ENV variables with your Organization ID and your billing account ID which will allow you to create the projects using terraform:</p>\n<pre><code>export TF_VAR_org_id=YOUR_ORG_ID\nexport TF_VAR_billing_account=YOUR_BILLING_ACCOUNT_ID\nexport TF_ADMIN=${USER}-terraform-admin\nexport TF_CREDS=~/.config/gcloud/${USER}-terraform-admin.json\n</code></pre>\n", "OwnerUserId": "15489773", "LastActivityDate": "2021-06-15T14:31:06.320", "CommentCount": "0", "ContentLicense": "CC BY-SA 4.0", "history": [{"Id": "248527247", "PostHistoryTypeId": "2", "PostId": "67988282", "RevisionGUID": "e0b1acdc-94b9-443f-946d-7d32fa958b5e", "CreationDate": "2021-06-15T14:31:06.320", "UserId": "15489773", "Text": "Take a look on this tutorial (from Community):\r\n\r\n[Creating Google Cloud projects with Terraform](https://cloud.google.com/community/tutorials/managing-gcp-projects-with-terraform)\r\n\r\nThis tutorial assumes that you already have a Google Cloud account set up for your organization and that you are allowed to make organization-level changes in the account\r\n\r\nFirst step,for example, is to setup your ENV variables with your Organization ID and your billing account ID which will allow you to create the projects using terraform:\r\n\r\n```\r\nexport TF_VAR_org_id=YOUR_ORG_ID\r\nexport TF_VAR_billing_account=YOUR_BILLING_ACCOUNT_ID\r\nexport TF_ADMIN=${USER}-terraform-admin\r\nexport TF_CREDS=~/.config/gcloud/${USER}-terraform-admin.json\r\n```\r\n", "ContentLicense": "CC BY-SA 4.0", "filtered-sentences": [{"source": "Text", "text": "This tutorial assumes that you already have a Google Cloud account set up for your organization and that you are allowed to make organization-level changes in the account First step,for example, is to setup your ENV variables with your Organization ID and your billing account ID which will allow you to create the projects using terraform: ``` export TF_VAR_org_id=YOUR_ORG_ID export TF_VAR_billing_account=YOUR_BILLING_ACCOUNT_ID export TF_ADMIN=${USER}-terraform-admin export TF_CREDS=~/.config/gcloud/${USER}-terraform-admin.json ```", "keywords": ["bill", "change"]}]}], "filtered-sentences": [{"source": "Body", "text": "This tutorial assumes that you already have a Google Cloud account set up for your organization and that you are allowed to make organization-level changes in the account First step,for example, is to setup your ENV variables with your Organization ID and your billing account ID which will allow you to create the projects using terraform:", "keywords": ["bill", "change"]}]}], "contains-topic": true, "filtered-sentences": [{"source": "Body", "text": "I am planning to use terraform to deploy to GCP and I have read the instruction on how to set it up: it requires a project name in the provider configuration. ", "keywords": ["provider"]}]}